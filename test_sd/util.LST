"File: util.c        Assembler  Version HGASM0202      Page 1


   1  0000              ; Generated by holtek-gcc v3.14, Wed May 30 13:25:14 2018
   2  0000              ; 
   3  0000              ; Configuration:
   4  0000              ;       without long instruction
   5  0000              ;       Single ROM, Multi-RAM
   6  0000              ;       bits_per_rom_unit:16
   7  0000              ;       with mp1
   8  0000              ;       with tbhp, address(0x9)
   9  0000              ;          Use tabrd-const
  10  0000              ;       
  11  0000              ;       
  12  0000              ;       
  13  0000              ; use 'tabrdc' instead of 'tabrd'
  14  0000              ;       
  15  0000              
  16  0000              #pragma translator "holtek-gcc 4.6.4" "3.14" "build 20130711"
  17  0000              ; Rebuild 10
  18  0000              
  19  0000              ir equ [2]
  20  0000              mp equ [3]
  21  0000              sbp equ [1]
  22  0000              acc equ [5]
  23  0000              bp equ [4]
  24  0000              tblp equ [7]
  25  0000              tbhp equ [9]
  26  0000              status equ [10]
  27  0000              c equ [10].0
  28  0000              ac equ [10].1
  29  0000              z equ [10].2
  30  0000              ov equ [10].3
  31  0000              intc equ [11]
  32  0000              
  33  0000              extern ra:byte
  34  0000              extern rb:byte
  35  0000              extern rc:byte
  36  0000              extern rd:byte
  37  0000              extern re:byte
  38  0000              extern rf:byte
  39  0000              extern rg:byte
  40  0000              extern rh:byte
  41  0000              extern _Crom2Prom:near
  42  0000              extern _Crom2PromNext:near
  43  0000              
  44  0000              RAMBANK 0 @HCCINIT, @HCCINIT0
  45  0000              
  46  0000              RAMBANK 0 @BITDATASEC, @BITDATASEC1
  47  0000              @HCCINIT	.section 'data'
  48  0000              @HCCINIT0	.section 'data'
  49  0000              @BITDATASEC	 .section 'data'
  50  0000              @BITDATASEC1	 .section 'data'
  51  0000              
  52  0000              #pragma debug scope 1 1
  53  0000              public _strlen
  54  0000              #pragma debug scope 2 1

  71  0000              #line 71 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd\util.c"
  71  0000              _strlen .section 'code'
  71  0000              _strlen proc
  71  0000              public _strlen_2
"File: util.c        Assembler  Version HGASM0202      Page 2

  71  0000  0003[           local _strlen_2 db 3 dup(?)	; 2,1
            00
            ]
  71  0003              #pragma debug pointer 42 7 2
  71  0003              #pragma debug pointer 42 7 2
  71  0003              #pragma debug variable 42 2 _strlen_2+0 "s"
  72  0003              #line 72 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd\util.c"
  72  0000  1F00     E  	clr rb
  72  0001  1F00     E  	clr rc
  72  0002              _L2:
  73  0002              #line 73 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd\util.c"
  73  0002  0700     E  	mov a,rb
  73  0003  0300     R  	add a,_strlen_2[0]
  73  0004  0083        	mov mp,a
  73  0005  0700     E  	mov a,rc
  73  0006  1300     R  	adc a,_strlen_2[1]
  73  0007  0081        	mov sbp,a
  73  0008  2000     E  	call _Crom2Prom
  73  0009  0080     R  	mov _strlen_2[2],a
  73  000A  0700     R  	mov a,_strlen_2[2]
  73  000B  0A00        	sub a,0
  73  000C  3D0A        	sz z
  73  000D  2800     R  	jmp _L6
  73  000E  0A2E        	sub a,(46)-(0)
  73  000F  3D0A        	sz z
  73  0010  2800     R  	jmp _L6
  73  0011  1480     E  	inc rb
  73  0012  3D0A        	sz z
  73  0013  1480     E  	inc rc
  73  0014  2800     R  	jmp _L2
  73  0015              _L6:
  75  0015              #line 75 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd\util.c"
  75  0015  0700     E  	mov a,rb
  75  0016  0080     E  	mov ra,a
  75  0017  0700     E  	mov a,rc
  75  0018  0080     E  	mov rb,a
  75  0019  0003        	ret
  75  001A              _strlen endp
  75  001A              #line 75 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd\util.c"
  75  001A              #pragma debug scope 1 1
  75  001A              public _reverse
  75  001A              #pragma debug scope 3 1
  59  001A              #line 59 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd\util.c"
  59  0000              _reverse .section 'code'
  59  0000              _reverse proc
  59  0000              public _reverse_2
  59  0000  0004[           local _reverse_2 db 4 dup(?)	; 2,2
            00
            ]
  59  0004              #pragma debug pointer 43 7 3
  59  0004              #pragma debug pointer 43 7 3
  59  0004              #pragma debug variable 43 3 _reverse_2+0 "str"
  62  0004              #line 62 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd\util.c"
  62  0000  0700     R  	mov a,_reverse_2[0]
  62  0001  0080     R  	mov _strlen_2[0],a
  62  0002  0700     R  	mov a,_reverse_2[1]
  62  0003  0080     R  	mov _strlen_2[1],a
  62  0004  2000     R  	call _strlen
  62  0005  0700     E  	mov a,rb
  62  0006  0080     E  	mov rc,a
"File: util.c        Assembler  Version HGASM0202      Page 3

  62  0007  0700     E  	mov a,ra
  62  0008  0BFF        	add a,255
  62  0009  0080     E  	mov rb,a
  62  000A  0FFF        	mov a,255
  62  000B  1380     E  	adcm a,rc
  62  000C  1F00     E  	clr rd
  62  000D  1F00     E  	clr re
  62  000E  2800     R  	jmp _L9
  62  000F              _L10:
  62  000F  0700     E  	mov a,rd
  62  0010  0300     R  	add a,_reverse_2[0]
  62  0011  0080     E  	mov rf,a
  62  0012  0700     E  	mov a,re
  62  0013  1300     R  	adc a,_reverse_2[1]
  62  0014  0080     E  	mov rg,a
  64  0015              #line 64 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd\util.c"
  64  0015  0700     E  	mov a,rf
  64  0016  0083        	mov mp,a
  64  0017  0700     E  	mov a,rg
  64  0018  0081        	mov sbp,a
  64  0019  2000     E  	call _Crom2Prom
  64  001A  0080     E  	mov rh,a
  64  001B  0700     E  	mov a,rb
  64  001C  0300     R  	add a,_reverse_2[0]
  64  001D  0080     R  	mov _reverse_2[2],a
  64  001E  0700     E  	mov a,rc
  64  001F  1300     R  	adc a,_reverse_2[1]
  64  0020  0080     R  	mov _reverse_2[3],a
  65  0021              #line 65 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd\util.c"
  65  0021  0700     R  	mov a,_reverse_2[2]
  65  0022  0083        	mov mp,a
  65  0023  0700     R  	mov a,_reverse_2[3]
  65  0024  0081        	mov sbp,a
  65  0025  2000     E  	call _Crom2Prom
  65  0026  0080     E  	mov ra,a
  65  0027  0700     E  	mov a,rf
  65  0028  0083        	mov mp,a
  65  0029  0700     E  	mov a,rg
  65  002A  0081        	mov sbp,a
  65  002B  0701        	mov a,sbp
  65  002C  0084        	mov bp,a
  65  002D  0700     E  	mov a,ra
  65  002E  0082        	mov ir,a
  66  002F              #line 66 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd\util.c"
  66  002F  0700     R  	mov a,_reverse_2[2]
  66  0030  0083        	mov mp,a
  66  0031  0700     R  	mov a,_reverse_2[3]
  66  0032  0081        	mov sbp,a
  66  0033  0701        	mov a,sbp
  66  0034  0084        	mov bp,a
  66  0035  0700     E  	mov a,rh
  66  0036  0082        	mov ir,a
  62  0037              #line 62 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd\util.c"
  62  0037  1480     E  	inc rd
  62  0038  3D0A        	sz z
  62  0039  1480     E  	inc re
  62  003A  0FFF        	mov a,255
  62  003B  0380     E  	addm a,rb
  62  003C  0FFF        	mov a,255
  62  003D  1380     E  	adcm a,rc
"File: util.c        Assembler  Version HGASM0202      Page 4

  62  003E              _L9:
  62  003E  0700     E  	mov a,rd
  62  003F  0200     E  	sub a,rb
  62  0040  0700     E  	mov a,re
  62  0041  1200     E  	sbc a,rc
  62  0042  1185        	swap acc
  62  0043  040A        	xor a,status
  62  0044  3D85        	sz acc.3
  62  0045  2800     R  	jmp _L10
  62  0046  0003        	ret
  62  0047              _reverse endp
  62  0047              #line 62 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd\util.c"
  62  0047              #pragma debug scope 1 1
  62  0047              public _itoa
  62  0047              #pragma debug scope 4 1
  44  0047              #line 44 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd\util.c"
  44  0000              _itoa .section 'code'
  44  0000              _itoa proc
  44  0000              public _itoa_2
  44  0000  0006[           local _itoa_2 db 6 dup(?)	; 4,2
            00
            ]
  44  0006              #pragma debug variable 11 4 _itoa_2+0 "n"
  44  0006              #pragma debug pointer 44 7 4
  44  0006              #pragma debug pointer 44 7 4
  44  0006              #pragma debug variable 44 4 _itoa_2+2 "s"
  44  0000  0700     R  	mov a,_itoa_2[0]
  44  0001  0080     E  	mov rf,a
  44  0002  0700     R  	mov a,_itoa_2[1]
  44  0003  0080     E  	mov rg,a
  44  0004  3800     E  	snz rg.7
  44  0005  2800     R  	jmp _L12
  44  0006  0F00        	mov a,0
  44  0007  0280     E  	subm a,rf
  44  0008  0F00        	mov a,0
  44  0009  1280     E  	sbcm a,rg
  44  000A              _L12:
  44  000A              #line 44 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd\util.c"
  44  000A  1F00     E  	clr rd
  44  000B  1F00     E  	clr re
  44  000C              _L14:
  44  000C  0F01        	mov a,1
  44  000D  0300     E  	add a,rd
  44  000E  0080     E  	mov rb,a
  44  000F  0F00        	mov a,0
  44  0010  1300     E  	adc a,re
  44  0011  0080     E  	mov rc,a
  50  0012              #line 50 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd\util.c"
  50  0012  0700     E  	mov a,rf
  50  0013  0080     E  	mov _builtin_holtek_udivmodhi4_2[0],a
  50  0014  0700     E  	mov a,rg
  50  0015  0080     E  	mov _builtin_holtek_udivmodhi4_2[1],a
  50  0016  0F0A        	mov a,10
  50  0017  0080     E  	mov _builtin_holtek_udivmodhi4_2[2],a
  50  0018  0F00        	mov a,0
  50  0019  0080     E  	mov _builtin_holtek_udivmodhi4_2[3],a
  50  001A  2000     E  	call _builtin_holtek_divmodhi4
  50  001B  0700     E  	mov a,_builtin_holtek_udivmodhi4_2[4]
  50  001C  0080     R  	mov _itoa_2[4],a
  50  001D  0700     E  	mov a,_builtin_holtek_udivmodhi4_2[5]
"File: util.c        Assembler  Version HGASM0202      Page 5

  50  001E  0080     R  	mov _itoa_2[5],a
  50  001F  0700     R  	mov a,_itoa_2[4]
  50  0020  0B30        	add a,48
  50  0021  0080     E  	mov ra,a
  50  0022  0700     E  	mov a,rd
  50  0023  0300     R  	add a,_itoa_2[2]
  50  0024  0083        	mov mp,a
  50  0025  0700     E  	mov a,re
  50  0026  1300     R  	adc a,_itoa_2[3]
  50  0027  0081        	mov sbp,a
  50  0028  0701        	mov a,sbp
  50  0029  0084        	mov bp,a
  50  002A  0700     E  	mov a,ra
  50  002B  0082        	mov ir,a
  51  002C              #line 51 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd\util.c"
  51  002C  0700     E  	mov a,rf
  51  002D  0080     E  	mov _builtin_holtek_udivmodhi4_2[0],a
  51  002E  0700     E  	mov a,rg
  51  002F  0080     E  	mov _builtin_holtek_udivmodhi4_2[1],a
  51  0030  0F0A        	mov a,10
  51  0031  0080     E  	mov _builtin_holtek_udivmodhi4_2[2],a
  51  0032  0F00        	mov a,0
  51  0033  0080     E  	mov _builtin_holtek_udivmodhi4_2[3],a
  51  0034  2000     E  	call _builtin_holtek_divmodhi4
  51  0035  0700     E  	mov a,_builtin_holtek_udivmodhi4_2[0]
  51  0036  0080     E  	mov rf,a
  51  0037  0700     E  	mov a,_builtin_holtek_udivmodhi4_2[1]
  51  0038  0080     E  	mov rg,a
  51  0039  3C00     E  	sz rg.7
  51  003A  2800     R  	jmp _L13
  51  003B  0700     E  	mov a,rf
  51  003C  0500     E  	or a,rg
  51  003D  3D0A        	sz z
  51  003E  2800     R  	jmp _L13
  50  003F              #line 50 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd\util.c"
  50  003F  0700     E  	mov a,rb
  50  0040  0080     E  	mov rd,a
  50  0041  0700     E  	mov a,rc
  50  0042  0080     E  	mov re,a
  50  0043  2800     R  	jmp _L14
  50  0044              _L13:
  50  0044  0700     E  	mov a,rb
  50  0045  0080     E  	mov rf,a
  50  0046  0700     E  	mov a,rc
  50  0047  0080     E  	mov rg,a
  52  0048              #line 52 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd\util.c"
  52  0048  3800     R  	snz _itoa_2[1].7
  52  0049  2800     R  	jmp _L15
  53  004A              #line 53 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd\util.c"
  53  004A  0F02        	mov a,2
  53  004B  0300     E  	add a,rd
  53  004C  0080     E  	mov rb,a
  53  004D  0F00        	mov a,0
  53  004E  1300     E  	adc a,re
  53  004F  0080     E  	mov rc,a
  53  0050  0700     E  	mov a,rf
  53  0051  0300     R  	add a,_itoa_2[2]
  53  0052  0083        	mov mp,a
  53  0053  0700     E  	mov a,rg
  53  0054  1300     R  	adc a,_itoa_2[3]
"File: util.c        Assembler  Version HGASM0202      Page 6

  53  0055  0081        	mov sbp,a
  53  0056  0701        	mov a,sbp
  53  0057  0084        	mov bp,a
  53  0058  0F2D        	mov a,45
  53  0059  0082        	mov ir,a
  53  005A              _L15:
  54  005A              #line 54 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd\util.c"
  54  005A  0700     E  	mov a,rb
  54  005B  0300     R  	add a,_itoa_2[2]
  54  005C  0083        	mov mp,a
  54  005D  0700     E  	mov a,rc
  54  005E  1300     R  	adc a,_itoa_2[3]
  54  005F  0081        	mov sbp,a
  54  0060  0701        	mov a,sbp
  54  0061  0084        	mov bp,a
  54  0062  0F00        	mov a,0
  54  0063  0082        	mov ir,a
  55  0064              #line 55 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd\util.c"
  55  0064  0700     R  	mov a,_itoa_2[2]
  55  0065  0080     R  	mov _reverse_2[0],a
  55  0066  0700     R  	mov a,_itoa_2[3]
  55  0067  0080     R  	mov _reverse_2[1],a
  55  0068  2000     R  	call _reverse
  55  0069  0003        	ret
  55  006A              _itoa endp
  55  006A              #line 55 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd\util.c"
  55  006A              #pragma debug scope 1 1
  55  006A              public _delay
  55  006A              #pragma debug scope 5 1
  78  006A              #line 78 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd\util.c"
  78  0000              _delay .section 'code'
  78  0000              _delay proc
  78  0000              public _delay_2
  78  0000  0004[           local _delay_2 db 4 dup(?)	; 4,0
            00
            ]
  78  0004              #pragma debug variable 14 5 _delay_2+0 "x"
  78  0000  0003        	ret
  78  0001              _delay endp
  78  0001              #line 78 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd\util.c"
  78  0001              #pragma debug scope 1 1
  78  0001              extern _builtin_holtek_divmodhi4:near
  78  0001              extern _builtin_holtek_udivmodhi4_2:byte
  78  0001              extern _builtin_holtek_udivmodhi4:near
  78  0001              
  78  0001              ; 
  78  0001              ; Generated by holtek-gcc v3.14, Wed May 30 13:25:14 2018
  78  0001              ; Rebuild 10
  78  0001              ; end of file


        0 Errors, 0