"File: util.c        Assembler  Version HGASM0202      Page 1


   1  0000              ; Generated by holtek-gcc v3.14, Sun May 06 10:07:00 2018
   2  0000              ; 
   3  0000              ; Configuration:
   4  0000              ;       without long instruction
   5  0000              ;       Single ROM, Multi-RAM
   6  0000              ;       bits_per_rom_unit:16
   7  0000              ;       with mp1
   8  0000              ;       with tbhp, address(0x9)
   9  0000              ;          Use tabrd-const
  10  0000              ;       
  11  0000              ;       
  12  0000              ;       
  13  0000              ; use 'tabrdc' instead of 'tabrd'
  14  0000              ;       
  15  0000              
  16  0000              #pragma translator "holtek-gcc 4.6.4" "3.14" "build 20130711"
  17  0000              ; Rebuild 10
  18  0000              
  19  0000              ir equ [2]
  20  0000              mp equ [3]
  21  0000              sbp equ [1]
  22  0000              acc equ [5]
  23  0000              bp equ [4]
  24  0000              tblp equ [7]
  25  0000              tbhp equ [9]
  26  0000              status equ [10]
  27  0000              c equ [10].0
  28  0000              ac equ [10].1
  29  0000              z equ [10].2
  30  0000              ov equ [10].3
  31  0000              intc equ [11]
  32  0000              
  33  0000              extern ra:byte
  34  0000              extern rb:byte
  35  0000              extern rc:byte
  36  0000              extern rd:byte
  37  0000              extern re:byte
  38  0000              extern rf:byte
  39  0000              extern rg:byte
  40  0000              extern rh:byte
  41  0000              extern _Crom2Prom:near
  42  0000              extern _Crom2PromNext:near
  43  0000              
  44  0000              RAMBANK 0 @HCCINIT, @HCCINIT0
  45  0000              
  46  0000              RAMBANK 0 @BITDATASEC, @BITDATASEC1
  47  0000              @HCCINIT	.section 'data'
  48  0000              @HCCINIT0	.section 'data'
  49  0000              @BITDATASEC	 .section 'data'
  50  0000              @BITDATASEC1	 .section 'data'
  51  0000              
  52  0000              #pragma debug scope 1 1
  53  0000              public _strlen
  54  0000              #pragma debug scope 2 1

  62  0000              #line 62 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\util.c"
  62  0000              _strlen .section 'code'
  62  0000              _strlen proc
  62  0000              public _strlen_2
"File: util.c        Assembler  Version HGASM0202      Page 2

  62  0000  0003[           local _strlen_2 db 3 dup(?)	; 2,1
            00
            ]
  62  0003              #pragma debug pointer 42 7 2
  62  0003              #pragma debug pointer 42 7 2
  62  0003              #pragma debug variable 42 2 _strlen_2+0 "s"
  63  0003              #line 63 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\util.c"
  63  0000  1F00     E  	clr rb
  63  0001  1F00     E  	clr rc
  63  0002              _L2:
  64  0002              #line 64 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\util.c"
  64  0002  0700     E  	mov a,rb
  64  0003  0300     R  	add a,_strlen_2[0]
  64  0004  0083        	mov mp,a
  64  0005  0700     E  	mov a,rc
  64  0006  1300     R  	adc a,_strlen_2[1]
  64  0007  0081        	mov sbp,a
  64  0008  2000     E  	call _Crom2Prom
  64  0009  0080     R  	mov _strlen_2[2],a
  64  000A  0700     R  	mov a,_strlen_2[2]
  64  000B  0A00        	sub a,0
  64  000C  3D0A        	sz z
  64  000D  2800     R  	jmp _L6
  64  000E  0A2E        	sub a,(46)-(0)
  64  000F  3D0A        	sz z
  64  0010  2800     R  	jmp _L6
  64  0011  1480     E  	inc rb
  64  0012  3D0A        	sz z
  64  0013  1480     E  	inc rc
  64  0014  2800     R  	jmp _L2
  64  0015              _L6:
  66  0015              #line 66 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\util.c"
  66  0015  0700     E  	mov a,rb
  66  0016  0080     E  	mov ra,a
  66  0017  0700     E  	mov a,rc
  66  0018  0080     E  	mov rb,a
  66  0019  0003        	ret
  66  001A              _strlen endp
  66  001A              #line 66 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\util.c"
  66  001A              #pragma debug scope 1 1
  66  001A              public _reverse
  66  001A              #pragma debug scope 3 1
  50  001A              #line 50 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\util.c"
  50  0000              _reverse .section 'code'
  50  0000              _reverse proc
  50  0000              public _reverse_2
  50  0000  0004[           local _reverse_2 db 4 dup(?)	; 2,2
            00
            ]
  50  0004              #pragma debug pointer 43 7 3
  50  0004              #pragma debug pointer 43 7 3
  50  0004              #pragma debug variable 43 3 _reverse_2+0 "str"
  53  0004              #line 53 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\util.c"
  53  0000  0700     R  	mov a,_reverse_2[0]
  53  0001  0080     R  	mov _strlen_2[0],a
  53  0002  0700     R  	mov a,_reverse_2[1]
  53  0003  0080     R  	mov _strlen_2[1],a
  53  0004  2000     R  	call _strlen
  53  0005  0700     E  	mov a,rb
  53  0006  0080     E  	mov rc,a
"File: util.c        Assembler  Version HGASM0202      Page 3

  53  0007  0700     E  	mov a,ra
  53  0008  0BFF        	add a,255
  53  0009  0080     E  	mov rb,a
  53  000A  0FFF        	mov a,255
  53  000B  1380     E  	adcm a,rc
  53  000C  1F00     E  	clr rd
  53  000D  1F00     E  	clr re
  53  000E  2800     R  	jmp _L9
  53  000F              _L10:
  53  000F  0700     E  	mov a,rd
  53  0010  0300     R  	add a,_reverse_2[0]
  53  0011  0080     E  	mov rf,a
  53  0012  0700     E  	mov a,re
  53  0013  1300     R  	adc a,_reverse_2[1]
  53  0014  0080     E  	mov rg,a
  55  0015              #line 55 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\util.c"
  55  0015  0700     E  	mov a,rf
  55  0016  0083        	mov mp,a
  55  0017  0700     E  	mov a,rg
  55  0018  0081        	mov sbp,a
  55  0019  2000     E  	call _Crom2Prom
  55  001A  0080     E  	mov rh,a
  55  001B  0700     E  	mov a,rb
  55  001C  0300     R  	add a,_reverse_2[0]
  55  001D  0080     R  	mov _reverse_2[2],a
  55  001E  0700     E  	mov a,rc
  55  001F  1300     R  	adc a,_reverse_2[1]
  55  0020  0080     R  	mov _reverse_2[3],a
  56  0021              #line 56 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\util.c"
  56  0021  0700     R  	mov a,_reverse_2[2]
  56  0022  0083        	mov mp,a
  56  0023  0700     R  	mov a,_reverse_2[3]
  56  0024  0081        	mov sbp,a
  56  0025  2000     E  	call _Crom2Prom
  56  0026  0080     E  	mov ra,a
  56  0027  0700     E  	mov a,rf
  56  0028  0083        	mov mp,a
  56  0029  0700     E  	mov a,rg
  56  002A  0081        	mov sbp,a
  56  002B  0701        	mov a,sbp
  56  002C  0084        	mov bp,a
  56  002D  0700     E  	mov a,ra
  56  002E  0082        	mov ir,a
  57  002F              #line 57 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\util.c"
  57  002F  0700     R  	mov a,_reverse_2[2]
  57  0030  0083        	mov mp,a
  57  0031  0700     R  	mov a,_reverse_2[3]
  57  0032  0081        	mov sbp,a
  57  0033  0701        	mov a,sbp
  57  0034  0084        	mov bp,a
  57  0035  0700     E  	mov a,rh
  57  0036  0082        	mov ir,a
  53  0037              #line 53 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\util.c"
  53  0037  1480     E  	inc rd
  53  0038  3D0A        	sz z
  53  0039  1480     E  	inc re
  53  003A  0FFF        	mov a,255
  53  003B  0380     E  	addm a,rb
  53  003C  0FFF        	mov a,255
  53  003D  1380     E  	adcm a,rc
"File: util.c        Assembler  Version HGASM0202      Page 4

  53  003E              _L9:
  53  003E  0700     E  	mov a,rd
  53  003F  0200     E  	sub a,rb
  53  0040  0700     E  	mov a,re
  53  0041  1200     E  	sbc a,rc
  53  0042  1185        	swap acc
  53  0043  040A        	xor a,status
  53  0044  3D85        	sz acc.3
  53  0045  2800     R  	jmp _L10
  53  0046  0003        	ret
  53  0047              _reverse endp
  53  0047              #line 53 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\util.c"
  53  0047              #pragma debug scope 1 1
  53  0047              public _itoa
  53  0047              #pragma debug scope 4 1
  35  0047              #line 35 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\util.c"
  35  0000              _itoa .section 'code'
  35  0000              _itoa proc
  35  0000              public _itoa_2
  35  0000  0006[           local _itoa_2 db 6 dup(?)	; 4,2
            00
            ]
  35  0006              #pragma debug variable 11 4 _itoa_2+0 "n"
  35  0006              #pragma debug pointer 44 7 4
  35  0006              #pragma debug pointer 44 7 4
  35  0006              #pragma debug variable 44 4 _itoa_2+2 "s"
  35  0000  0700     R  	mov a,_itoa_2[0]
  35  0001  0080     E  	mov rf,a
  35  0002  0700     R  	mov a,_itoa_2[1]
  35  0003  0080     E  	mov rg,a
  35  0004  3800     E  	snz rg.7
  35  0005  2800     R  	jmp _L12
  35  0006  0F00        	mov a,0
  35  0007  0280     E  	subm a,rf
  35  0008  0F00        	mov a,0
  35  0009  1280     E  	sbcm a,rg
  35  000A              _L12:
  35  000A              #line 35 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\util.c"
  35  000A  1F00     E  	clr rd
  35  000B  1F00     E  	clr re
  35  000C              _L14:
  35  000C  0F01        	mov a,1
  35  000D  0300     E  	add a,rd
  35  000E  0080     E  	mov rb,a
  35  000F  0F00        	mov a,0
  35  0010  1300     E  	adc a,re
  35  0011  0080     E  	mov rc,a
  41  0012              #line 41 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\util.c"
  41  0012  0700     E  	mov a,rf
  41  0013  0080     E  	mov _builtin_holtek_udivmodhi4_2[0],a
  41  0014  0700     E  	mov a,rg
  41  0015  0080     E  	mov _builtin_holtek_udivmodhi4_2[1],a
  41  0016  0F0A        	mov a,10
  41  0017  0080     E  	mov _builtin_holtek_udivmodhi4_2[2],a
  41  0018  0F00        	mov a,0
  41  0019  0080     E  	mov _builtin_holtek_udivmodhi4_2[3],a
  41  001A  2000     E  	call _builtin_holtek_divmodhi4
  41  001B  0700     E  	mov a,_builtin_holtek_udivmodhi4_2[4]
  41  001C  0080     R  	mov _itoa_2[4],a
  41  001D  0700     E  	mov a,_builtin_holtek_udivmodhi4_2[5]
"File: util.c        Assembler  Version HGASM0202      Page 5

  41  001E  0080     R  	mov _itoa_2[5],a
  41  001F  0700     R  	mov a,_itoa_2[4]
  41  0020  0B30        	add a,48
  41  0021  0080     E  	mov ra,a
  41  0022  0700     E  	mov a,rd
  41  0023  0300     R  	add a,_itoa_2[2]
  41  0024  0083        	mov mp,a
  41  0025  0700     E  	mov a,re
  41  0026  1300     R  	adc a,_itoa_2[3]
  41  0027  0081        	mov sbp,a
  41  0028  0701        	mov a,sbp
  41  0029  0084        	mov bp,a
  41  002A  0700     E  	mov a,ra
  41  002B  0082        	mov ir,a
  42  002C              #line 42 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\util.c"
  42  002C  0700     E  	mov a,rf
  42  002D  0080     E  	mov _builtin_holtek_udivmodhi4_2[0],a
  42  002E  0700     E  	mov a,rg
  42  002F  0080     E  	mov _builtin_holtek_udivmodhi4_2[1],a
  42  0030  0F0A        	mov a,10
  42  0031  0080     E  	mov _builtin_holtek_udivmodhi4_2[2],a
  42  0032  0F00        	mov a,0
  42  0033  0080     E  	mov _builtin_holtek_udivmodhi4_2[3],a
  42  0034  2000     E  	call _builtin_holtek_divmodhi4
  42  0035  0700     E  	mov a,_builtin_holtek_udivmodhi4_2[0]
  42  0036  0080     E  	mov rf,a
  42  0037  0700     E  	mov a,_builtin_holtek_udivmodhi4_2[1]
  42  0038  0080     E  	mov rg,a
  42  0039  3C00     E  	sz rg.7
  42  003A  2800     R  	jmp _L13
  42  003B  0700     E  	mov a,rf
  42  003C  0500     E  	or a,rg
  42  003D  3D0A        	sz z
  42  003E  2800     R  	jmp _L13
  41  003F              #line 41 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\util.c"
  41  003F  0700     E  	mov a,rb
  41  0040  0080     E  	mov rd,a
  41  0041  0700     E  	mov a,rc
  41  0042  0080     E  	mov re,a
  41  0043  2800     R  	jmp _L14
  41  0044              _L13:
  41  0044  0700     E  	mov a,rb
  41  0045  0080     E  	mov rf,a
  41  0046  0700     E  	mov a,rc
  41  0047  0080     E  	mov rg,a
  43  0048              #line 43 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\util.c"
  43  0048  3800     R  	snz _itoa_2[1].7
  43  0049  2800     R  	jmp _L15
  44  004A              #line 44 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\util.c"
  44  004A  0F02        	mov a,2
  44  004B  0300     E  	add a,rd
  44  004C  0080     E  	mov rb,a
  44  004D  0F00        	mov a,0
  44  004E  1300     E  	adc a,re
  44  004F  0080     E  	mov rc,a
  44  0050  0700     E  	mov a,rf
  44  0051  0300     R  	add a,_itoa_2[2]
  44  0052  0083        	mov mp,a
  44  0053  0700     E  	mov a,rg
  44  0054  1300     R  	adc a,_itoa_2[3]
"File: util.c        Assembler  Version HGASM0202      Page 6

  44  0055  0081        	mov sbp,a
  44  0056  0701        	mov a,sbp
  44  0057  0084        	mov bp,a
  44  0058  0F2D        	mov a,45
  44  0059  0082        	mov ir,a
  44  005A              _L15:
  45  005A              #line 45 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\util.c"
  45  005A  0700     E  	mov a,rb
  45  005B  0300     R  	add a,_itoa_2[2]
  45  005C  0083        	mov mp,a
  45  005D  0700     E  	mov a,rc
  45  005E  1300     R  	adc a,_itoa_2[3]
  45  005F  0081        	mov sbp,a
  45  0060  0701        	mov a,sbp
  45  0061  0084        	mov bp,a
  45  0062  0F00        	mov a,0
  45  0063  0082        	mov ir,a
  46  0064              #line 46 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\util.c"
  46  0064  0700     R  	mov a,_itoa_2[2]
  46  0065  0080     R  	mov _reverse_2[0],a
  46  0066  0700     R  	mov a,_itoa_2[3]
  46  0067  0080     R  	mov _reverse_2[1],a
  46  0068  2000     R  	call _reverse
  46  0069  0003        	ret
  46  006A              _itoa endp
  46  006A              #line 46 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\util.c"
  46  006A              #pragma debug scope 1 1
  46  006A              public _delay
  46  006A              #pragma debug scope 5 1
  69  006A              #line 69 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\util.c"
  69  0000              _delay .section 'code'
  69  0000              _delay proc
  69  0000              public _delay_2
  69  0000  0004[           local _delay_2 db 4 dup(?)	; 4,0
            00
            ]
  69  0004              #pragma debug variable 14 5 _delay_2+0 "x"
  69  0000  0003        	ret
  69  0001              _delay endp
  69  0001              #line 69 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\util.c"
  69  0001              #pragma debug scope 1 1
  69  0001              extern _builtin_holtek_divmodhi4:near
  69  0001              extern _builtin_holtek_udivmodhi4_2:byte
  69  0001              extern _builtin_holtek_udivmodhi4:near
  69  0001              
  69  0001              ; 
  69  0001              ; Generated by holtek-gcc v3.14, Sun May 06 10:07:00 2018
  69  0001              ; Rebuild 10
  69  0001              ; end of file


        0 Errors, 0