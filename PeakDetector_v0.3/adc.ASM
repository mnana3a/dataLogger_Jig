; Generated by holtek-gcc v3.14, Sun May 06 10:06:55 2018
; 
; Configuration:
;       without long instruction
;       Single ROM, Multi-RAM
;       bits_per_rom_unit:16
;       with mp1
;       with tbhp, address(0x9)
;          Use tabrd-const
;       
;       
;       
; use 'tabrdc' instead of 'tabrd'
;       

#pragma translator "holtek-gcc 4.6.4" "3.14" "build 20130711"
; Rebuild 10

ir equ [2]
mp equ [3]
sbp equ [1]
acc equ [5]
bp equ [4]
tblp equ [7]
tbhp equ [9]
status equ [10]
c equ [10].0
ac equ [10].1
z equ [10].2
ov equ [10].3
intc equ [11]

extern ra:byte
extern rb:byte
extern rc:byte
extern rd:byte
extern re:byte
extern rf:byte
extern rg:byte
extern rh:byte
extern _Crom2Prom:near
extern _Crom2PromNext:near

RAMBANK 0 @HCCINIT, @HCCINIT0

RAMBANK 0 @BITDATASEC, @BITDATASEC1
@HCCINIT	.section 'data'
@HCCINIT0	.section 'data'
@BITDATASEC	 .section 'data'
@BITDATASEC1	 .section 'data'

#pragma debug scope 1 1
	extern __DELAY3:near
	extern __DELAYX3:near
	extern __DELAYX6:near
	extern __DELAYY5:near
	extern __DELAYY3:near
	extern _builtin_holtek_delay_2:byte
___intc1 equ [15]
public _ADC_init
#pragma debug scope 2 1
#line 33 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
_ADC_init .section 'code'
_ADC_init proc
#line 34 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	mov a,132
	orm a,[35]
	set [68].0
	clr [15].2
	clr [15].6
	mov a,218
	mov [36],a
	mov a,48
	orm a,[34]
#line 35 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	clr _adc_val0[0]
	clr _adc_val0[1]
	clr _adc_val0[2]
	clr _adc_val0[3]
#line 36 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	clr _ac[0]
	clr _ac[1]
#line 37 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	clr _maxAC[0]
	clr _maxAC[1]
#line 38 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	set _minAC[0]
	set _minAC[1]
#line 39 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	clr _counter[0]
	clr _counter[1]
#line 40 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	clr _tmp[0]
	clr _tmp[1]
	clr _tmp[2]
	clr _tmp[3]
#line 41 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	clr _adc_signal[0]
#line 42 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	clr _initCounter[0]
#line 43 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	clr _maxTime[0]
	clr _maxTime[1]
#line 44 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	clr _minTime[0]
	clr _minTime[1]
#line 45 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	clr _maxFlag[0]
#line 46 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	clr _minFlag[0]
#line 47 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	clr _runtime_counter[0]
	clr _runtime_counter[1]
#line 50 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	jmp _L2
_L3:
#line 52 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	inc _initCounter[0]
_L2:
#line 50 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	mov a,99
	sub a,_initCounter[0]
	sz c
	jmp _L3
	ret
_ADC_init endp
#line 50 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
#pragma debug scope 1 1
___sadc0 equ [34]
___sadoh equ [33]
___sadol equ [32]
___pbc equ [38]
___pb equ [37]
@crom	.section 'crom'
_LC0:
	db 0ah,0dh,00h
___pc equ [65]
public _ADC_update
#pragma debug scope 3 1
#line 57 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
_ADC_update .section 'code'
_ADC_update proc
    local _ADC_update_2 db 7 dup(?)	; 0,7
#pragma debug array 42 8 5 3
#pragma debug variable 42 3 _ADC_update_2+0 "c"
#line 59 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	call _UART_getSignal
	mov ra,a
	sz ra
	jmp _L5
#line 61 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	inc _counter[0]
	sz z
	inc _counter[1]
#line 62 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	clr [34].6
	mov a,1
	mov [68],a
	mov a,48
	mov [34],a
	clr [34].7
	set [34].7
	clr [34].7
_L9:
	snz [34].6
	jmp _L9
	clr [34].6
	clr [15].6
#line 63 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	mov a,[33]
	mov rc,a
	clr rb
	mov a,[32]
	orm a,rb
	mov a,rb
	addm a,_tmp[0]
	mov a,rc
	adcm a,_tmp[1]
	clr acc
	adcm a,_tmp[2]
	adcm a,_tmp[3]
#line 65 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	mov a,_counter[0]
	xor a,40
	or a,_counter[1]
	snz z
	jmp _L5
#line 67 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	inc _runtime_counter[0]
	sz z
	inc _runtime_counter[1]
#line 68 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	clr [34].5
	clr [68]
#line 69 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	clr [38]
#line 70 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	clr [37]
#line 72 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	mov a,_tmp[3]
	mov _builtin_holtek_mant12p[0],a
	mov a,_tmp[2]
	mov _builtin_holtek_mant1[2],a
	mov a,_tmp[1]
	mov _builtin_holtek_mant1[1],a
	mov a,_tmp[0]
	mov _builtin_holtek_mant1[0],a
	clr _builtin_holtek_signs.0
	call _builtin_holtek_ultof
	mov a,_builtin_holtek_mant1[2]
	mov rh,a
	mov a,_builtin_holtek_mant1[1]
	mov rg,a
	mov a,_builtin_holtek_mant1[0]
	mov rf,a
	mov a,_counter[1]
	mov _builtin_holtek_mant1[1],a
	mov a,_counter[0]
	mov _builtin_holtek_mant1[0],a
	clr _builtin_holtek_signs.0
	call _builtin_holtek_uitof
	mov a,_builtin_holtek_mant1[2]
	mov re,a
	mov a,_builtin_holtek_mant1[1]
	mov rd,a
	mov a,_builtin_holtek_mant1[0]
	mov rc,a
	mov a,rh
	mov _builtin_holtek_mant1[2],a
	mov a,rg
	mov _builtin_holtek_mant1[1],a
	mov a,rf
	mov _builtin_holtek_mant1[0],a
	mov a,re
	mov _builtin_holtek_mant2[2],a
	mov a,rd
	mov _builtin_holtek_mant2[1],a
	mov a,rc
	mov _builtin_holtek_mant2[0],a
	call _builtin_holtek_ftdiv
	mov a,_builtin_holtek_mant1[2]
	mov re,a
	mov a,_builtin_holtek_mant1[1]
	mov rd,a
	mov a,_builtin_holtek_mant1[0]
	mov rc,a
	mov a,re
	mov rg,a
	mov a,rd
	mov rf,a
	mov a,rc
	mov re,a
	clr rd
	mov a,rg
	mov _builtin_holtek_mant12p[0],a
	mov a,rf
	mov _builtin_holtek_mant1[2],a
	mov a,re
	mov _builtin_holtek_mant1[1],a
	mov a,rd
	mov _builtin_holtek_mant1[0],a
	mov a,61
	mov _builtin_holtek_mant12p[1],a
	mov a,179
	mov _builtin_holtek_mant2[2],a
	mov a,192
	mov _builtin_holtek_mant2[1],a
	mov a,194
	mov _builtin_holtek_mant2[0],a
	call _builtin_holtek_dtmul
	mov a,_builtin_holtek_mant12p[0]
	mov _adc_val0[3],a
	mov a,_builtin_holtek_mant1[2]
	mov _adc_val0[2],a
	mov a,_builtin_holtek_mant1[1]
	mov _adc_val0[1],a
	mov a,_builtin_holtek_mant1[0]
	mov _adc_val0[0],a
#pragma debug scope 4 3
;begin block, line: 72.-1
#line 73 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	clr ra
_L11:
	mov a,low offset _LC0
	add a,ra
	mov mp,a
	mov a,high offset _LC0
	clr sbp
	adcm a,sbp
	call _Crom2Prom
	mov rb,a
	sz rb
	jmp _LI1
	jmp _L16
_LI1:
_L13:
	snz [85].0
	jmp _L13
	mov a,rb
	mov [89],a
	inc ra
	jmp _L11
_L16:
	snz [85].0
	jmp _L16
	clr [89]
#pragma debug scope 3 1
#line 74 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	mov a,_adc_val0[0]
	mov rd,a
	mov a,_adc_val0[1]
	mov re,a
	mov a,_adc_val0[2]
	mov rf,a
	mov a,_adc_val0[3]
	mov rg,a
	mov a,low offset _ADC_update_2
	mov _itoa_2[2],a
	mov a,high offset _ADC_update_2
	mov _itoa_2[3],a
	mov a,rg
	mov _builtin_holtek_mant12p[0],a
	mov a,rf
	mov _builtin_holtek_mant1[2],a
	mov a,re
	mov _builtin_holtek_mant1[1],a
	mov a,rd
	mov _builtin_holtek_mant1[0],a
	call _builtin_holtek_dtol
	mov a,_builtin_holtek_mant12p[0]
	mov rg,a
	mov a,_builtin_holtek_mant1[2]
	mov rf,a
	mov a,_builtin_holtek_mant1[1]
	mov re,a
	mov a,_builtin_holtek_mant1[0]
	mov rd,a
	mov a,rd
	mov _itoa_2[0],a
	mov a,re
	mov _itoa_2[1],a
	call _itoa
#pragma debug scope 5 3
;begin block, line: 74.-1
#line 75 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	clr ra
_L17:
	mov a,low offset _ADC_update_2
	mov rb,a
	mov a,high offset _ADC_update_2
	mov rc,a
	mov a,ra
	add a,rb
	mov mp,a
	clr acc
	adc a,rc
	mov sbp,a
	call _Crom2Prom
	mov rb,a
	sz rb
	jmp _LI2
	jmp _L22
_LI2:
_L19:
	snz [85].0
	jmp _L19
	mov a,rb
	mov [89],a
	inc ra
	jmp _L17
_L22:
	snz [85].0
	jmp _L22
	clr [89]
#pragma debug scope 3 1
#pragma debug scope 6 3
;begin block, line: 75.-1
#line 76 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	clr ra
_L23:
	mov a,low offset _LC0
	add a,ra
	mov mp,a
	mov a,high offset _LC0
	clr sbp
	adcm a,sbp
	call _Crom2Prom
	mov rb,a
	sz rb
	jmp _LI3
	jmp _L28
_LI3:
_L25:
	snz [85].0
	jmp _L25
	mov a,rb
	mov [89],a
	inc ra
	jmp _L23
_L28:
	snz [85].0
	jmp _L28
	clr [89]
#pragma debug scope 3 1
#line 80 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	mov a,_adc_val0[3]
	mov _builtin_holtek_mant12p[0],a
	mov a,_adc_val0[2]
	mov _builtin_holtek_mant1[2],a
	mov a,_adc_val0[1]
	mov _builtin_holtek_mant1[1],a
	mov a,_adc_val0[0]
	mov _builtin_holtek_mant1[0],a
	mov a,67
	mov _builtin_holtek_mant12p[1],a
	mov a,87
	mov _builtin_holtek_mant2[2],a
	mov a,0
	mov _builtin_holtek_mant2[1],a
	mov a,0
	mov _builtin_holtek_mant2[0],a
	call _builtin_holtek_dtsub
	sz _builtin_holtek_mant12p[0].7
	jmp _LI4
	mov a,_builtin_holtek_mant12p[0]
	or a,_builtin_holtek_mant1[2]
	or a,_builtin_holtek_mant1[1]
	or a,_builtin_holtek_mant1[0]
	snz z
	jmp _L51
_LI4:
	jmp _L61
_L51:
	mov a,_adc_val0[3]
	mov _builtin_holtek_mant12p[0],a
	mov a,_adc_val0[2]
	mov _builtin_holtek_mant1[2],a
	mov a,_adc_val0[1]
	mov _builtin_holtek_mant1[1],a
	mov a,_adc_val0[0]
	mov _builtin_holtek_mant1[0],a
	mov a,67
	mov _builtin_holtek_mant12p[1],a
	mov a,87
	mov _builtin_holtek_mant2[2],a
	mov a,0
	mov _builtin_holtek_mant2[1],a
	mov a,0
	mov _builtin_holtek_mant2[0],a
	call _builtin_holtek_dtsub
	mov a,_builtin_holtek_mant12p[0]
	mov rg,a
	mov a,_builtin_holtek_mant1[2]
	mov rf,a
	mov a,_builtin_holtek_mant1[1]
	mov re,a
	mov a,_builtin_holtek_mant1[0]
	mov rd,a
	mov a,rg
	mov _builtin_holtek_mant12p[0],a
	mov a,rf
	mov _builtin_holtek_mant1[2],a
	mov a,re
	mov _builtin_holtek_mant1[1],a
	mov a,rd
	mov _builtin_holtek_mant1[0],a
	mov a,64
	mov _builtin_holtek_mant12p[1],a
	mov a,192
	mov _builtin_holtek_mant2[2],a
	mov a,0
	mov _builtin_holtek_mant2[1],a
	mov a,0
	mov _builtin_holtek_mant2[0],a
	call _builtin_holtek_dtdiv
	mov a,_builtin_holtek_mant12p[0]
	mov rg,a
	mov a,_builtin_holtek_mant1[2]
	mov rf,a
	mov a,_builtin_holtek_mant1[1]
	mov re,a
	mov a,_builtin_holtek_mant1[0]
	mov rd,a
	mov a,_adc_val0[3]
	mov _builtin_holtek_mant12p[0],a
	mov a,_adc_val0[2]
	mov _builtin_holtek_mant1[2],a
	mov a,_adc_val0[1]
	mov _builtin_holtek_mant1[1],a
	mov a,_adc_val0[0]
	mov _builtin_holtek_mant1[0],a
	mov a,rg
	mov _builtin_holtek_mant12p[1],a
	mov a,rf
	mov _builtin_holtek_mant2[2],a
	mov a,re
	mov _builtin_holtek_mant2[1],a
	mov a,rd
	mov _builtin_holtek_mant2[0],a
	call _builtin_holtek_dtsub
	mov a,_builtin_holtek_mant12p[0]
	mov _adc_val0[3],a
	mov a,_builtin_holtek_mant1[2]
	mov _adc_val0[2],a
	mov a,_builtin_holtek_mant1[1]
	mov _adc_val0[1],a
	mov a,_builtin_holtek_mant1[0]
	mov _adc_val0[0],a
	jmp _L31
_L61:
#line 81 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	mov a,_adc_val0[3]
	mov _builtin_holtek_mant12p[0],a
	mov a,_adc_val0[2]
	mov _builtin_holtek_mant1[2],a
	mov a,_adc_val0[1]
	mov _builtin_holtek_mant1[1],a
	mov a,_adc_val0[0]
	mov _builtin_holtek_mant1[0],a
	mov a,67
	mov _builtin_holtek_mant12p[1],a
	mov a,87
	mov _builtin_holtek_mant2[2],a
	mov a,0
	mov _builtin_holtek_mant2[1],a
	mov a,0
	mov _builtin_holtek_mant2[0],a
	call _builtin_holtek_dtsub
	sz _builtin_holtek_mant12p[0].7
	jmp _L52
	jmp _L31
_L52:
	clr rd
	clr re
	mov a,87
	mov rf,a
	mov a,67
	mov rg,a
	mov a,rg
	mov _builtin_holtek_mant12p[0],a
	mov a,rf
	mov _builtin_holtek_mant1[2],a
	mov a,re
	mov _builtin_holtek_mant1[1],a
	mov a,rd
	mov _builtin_holtek_mant1[0],a
	mov a,_adc_val0[3]
	mov _builtin_holtek_mant12p[1],a
	mov a,_adc_val0[2]
	mov _builtin_holtek_mant2[2],a
	mov a,_adc_val0[1]
	mov _builtin_holtek_mant2[1],a
	mov a,_adc_val0[0]
	mov _builtin_holtek_mant2[0],a
	call _builtin_holtek_dtsub
	mov a,_builtin_holtek_mant12p[0]
	mov rg,a
	mov a,_builtin_holtek_mant1[2]
	mov rf,a
	mov a,_builtin_holtek_mant1[1]
	mov re,a
	mov a,_builtin_holtek_mant1[0]
	mov rd,a
	mov a,rg
	mov _builtin_holtek_mant12p[0],a
	mov a,rf
	mov _builtin_holtek_mant1[2],a
	mov a,re
	mov _builtin_holtek_mant1[1],a
	mov a,rd
	mov _builtin_holtek_mant1[0],a
	mov a,64
	mov _builtin_holtek_mant12p[1],a
	mov a,224
	mov _builtin_holtek_mant2[2],a
	mov a,0
	mov _builtin_holtek_mant2[1],a
	mov a,0
	mov _builtin_holtek_mant2[0],a
	call _builtin_holtek_dtdiv
	mov a,_builtin_holtek_mant12p[0]
	mov rg,a
	mov a,_builtin_holtek_mant1[2]
	mov rf,a
	mov a,_builtin_holtek_mant1[1]
	mov re,a
	mov a,_builtin_holtek_mant1[0]
	mov rd,a
	mov a,_adc_val0[3]
	mov _builtin_holtek_mant12p[0],a
	mov a,_adc_val0[2]
	mov _builtin_holtek_mant1[2],a
	mov a,_adc_val0[1]
	mov _builtin_holtek_mant1[1],a
	mov a,_adc_val0[0]
	mov _builtin_holtek_mant1[0],a
	mov a,rg
	mov _builtin_holtek_mant12p[1],a
	mov a,rf
	mov _builtin_holtek_mant2[2],a
	mov a,re
	mov _builtin_holtek_mant2[1],a
	mov a,rd
	mov _builtin_holtek_mant2[0],a
	call _builtin_holtek_dtadd
	mov a,_builtin_holtek_mant12p[0]
	mov _adc_val0[3],a
	mov a,_builtin_holtek_mant1[2]
	mov _adc_val0[2],a
	mov a,_builtin_holtek_mant1[1]
	mov _adc_val0[1],a
	mov a,_builtin_holtek_mant1[0]
	mov _adc_val0[0],a
_L31:
#line 83 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	mov a,_adc_val0[0]
	mov rd,a
	mov a,_adc_val0[1]
	mov re,a
	mov a,_adc_val0[2]
	mov rf,a
	mov a,_adc_val0[3]
	mov rg,a
	mov a,low offset _ADC_update_2
	mov _itoa_2[2],a
	mov a,high offset _ADC_update_2
	mov _itoa_2[3],a
	mov a,rg
	mov _builtin_holtek_mant12p[0],a
	mov a,rf
	mov _builtin_holtek_mant1[2],a
	mov a,re
	mov _builtin_holtek_mant1[1],a
	mov a,rd
	mov _builtin_holtek_mant1[0],a
	call _builtin_holtek_dtol
	mov a,_builtin_holtek_mant12p[0]
	mov rg,a
	mov a,_builtin_holtek_mant1[2]
	mov rf,a
	mov a,_builtin_holtek_mant1[1]
	mov re,a
	mov a,_builtin_holtek_mant1[0]
	mov rd,a
	mov a,rd
	mov _itoa_2[0],a
	mov a,re
	mov _itoa_2[1],a
	call _itoa
#pragma debug scope 7 3
;begin block, line: 83.-1
#line 84 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	clr ra
_L33:
	mov a,low offset _ADC_update_2
	mov rc,a
	mov a,high offset _ADC_update_2
	mov rd,a
	mov a,ra
	add a,rc
	mov mp,a
	clr acc
	adc a,rd
	mov sbp,a
	call _Crom2Prom
	mov rb,a
	sz rb
	jmp _LI5
	jmp _L38
_LI5:
_L35:
	snz [85].0
	jmp _L35
	mov a,rb
	mov [89],a
	inc ra
	jmp _L33
_L38:
	snz [85].0
	jmp _L38
	clr [89]
#pragma debug scope 3 1
#pragma debug scope 8 3
;begin block, line: 84.-1
#line 85 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	clr ra
_L39:
	mov a,low offset _LC0
	add a,ra
	mov mp,a
	mov a,high offset _LC0
	clr sbp
	adcm a,sbp
	call _Crom2Prom
	mov rb,a
	sz rb
	jmp _LI6
	jmp _L44
_LI6:
_L41:
	snz [85].0
	jmp _L41
	mov a,rb
	mov [89],a
	inc ra
	jmp _L39
_L44:
	snz [85].0
	jmp _L44
	clr [89]
#pragma debug scope 3 1
#line 86 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	mov a,_adc_val0[3]
	mov _builtin_holtek_mant12p[0],a
	mov a,_adc_val0[2]
	mov _builtin_holtek_mant1[2],a
	mov a,_adc_val0[1]
	mov _builtin_holtek_mant1[1],a
	mov a,_adc_val0[0]
	mov _builtin_holtek_mant1[0],a
	call _builtin_holtek_dtol
	mov a,_builtin_holtek_mant12p[0]
	mov rg,a
	mov a,_builtin_holtek_mant1[2]
	mov rf,a
	mov a,_builtin_holtek_mant1[1]
	mov re,a
	mov a,_builtin_holtek_mant1[0]
	mov rd,a
	mov a,rd
	mov _ac[0],a
	mov a,re
	mov _ac[1],a
#line 88 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	mov a,_maxAC[0]
	sub a,_ac[0]
	mov a,_maxAC[1]
	sbc a,_ac[1]
	sz c
	jmp _L45
	mov a,_ac[0]
	mov _maxAC[0],a
	mov a,_ac[1]
	mov _maxAC[1],a
	jmp _L46
_L45:
#line 89 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	mov a,_ac[0]
	sub a,_minAC[0]
	mov a,_ac[1]
	sbc a,_minAC[1]
	sz c
	jmp _L46
	mov a,_ac[0]
	mov _minAC[0],a
	mov a,_ac[1]
	mov _minAC[1],a
_L46:
#line 92 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	mov a,_maxFlag[0]
	mov _ADC_update_2[5],a
	sz _ADC_update_2[5]
	jmp _L47
	mov a,240
	sub a,_ac[0]
	mov a,0
	sbc a,_ac[1]
	sz c
	jmp _L47
#line 95 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	mov a,1
	mov _maxFlag[0],a
#line 96 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	mov a,_runtime_counter[0]
	mov _maxTime[0],a
	mov a,_runtime_counter[1]
	mov _maxTime[1],a
	jmp _L48
_L47:
#line 98 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	mov a,_minFlag[0]
	mov _ADC_update_2[6],a
	sz _ADC_update_2[6]
	jmp _L49
	mov a,189
	sub a,_ac[0]
	mov a,0
	sbc a,_ac[1]
	snz c
	jmp _L49
#line 101 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	mov a,1
	mov _minFlag[0],a
#line 102 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	mov a,_runtime_counter[0]
	mov _minTime[0],a
	mov a,_runtime_counter[1]
	mov _minTime[1],a
	jmp _L48
_L49:
#line 106 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	sz _ADC_update_2[5]
	jmp _LI7
	jmp _L50
_LI7:
	mov a,239
	sub a,_ac[0]
	mov a,0
	sbc a,_ac[1]
	snz c
	jmp _L50
	mov a,_runtime_counter[0]
	sub a,_maxTime[0]
	mov rd,a
	mov a,_runtime_counter[1]
	sbc a,_maxTime[1]
	mov re,a
	mov a,rd
	mov rb,a
	mov a,re
	mov rc,a
	clr c
	rlca rb
	mov _maxTime[0],a
	rlca rc
	mov _maxTime[1],a
	clr _maxFlag[0]
	jmp _L60
_L50:
#line 107 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	sz _ADC_update_2[6]
	jmp _LI8
	jmp _L48
_LI8:
	mov a,190
	sub a,_ac[0]
	mov a,0
	sbc a,_ac[1]
	sz c
	jmp _L48
	mov a,_runtime_counter[0]
	sub a,_minTime[0]
	mov rd,a
	mov a,_runtime_counter[1]
	sbc a,_minTime[1]
	mov re,a
	mov a,rd
	mov rb,a
	mov a,re
	mov rc,a
	clr c
	rlca rb
	mov _minTime[0],a
	rlca rc
	mov _minTime[1],a
	clr _minFlag[0]
_L60:
	clr _runtime_counter[0]
	clr _runtime_counter[1]
_L48:
#line 110 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	mov a,1
	mov _adc_signal[0],a
#line 111 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	mov a,4
	xorm a,[65]
#line 112 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	clr _tmp[0]
	clr _tmp[1]
	clr _tmp[2]
	clr _tmp[3]
#line 113 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	clr _counter[0]
	clr _counter[1]
#line 114 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	set [68].0
	set [34].5
_L5:
	ret
_ADC_update endp
#line 114 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
#pragma debug scope 1 1
public _ADC_getValue
#pragma debug scope 9 1
#line 120 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
_ADC_getValue .section 'code'
_ADC_getValue proc
    local _ADC_getValue_2 db 1 dup(?)	; 0,1
	mov _ADC_getValue_2[0],a
#pragma debug variable 8 9 _ADC_getValue_2+0 "adc_channel"
#line 122 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	mov a,_ac[0]
	mov ra,a
	mov a,_ac[1]
	mov rb,a
	ret
_ADC_getValue endp
#line 122 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
#pragma debug scope 1 1
public _ADC_getMax
#pragma debug scope 10 1
#line 125 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
_ADC_getMax .section 'code'
_ADC_getMax proc
#line 127 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	mov a,_maxAC[0]
	mov ra,a
	mov a,_maxAC[1]
	mov rb,a
	ret
_ADC_getMax endp
#line 127 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
#pragma debug scope 1 1
public _ADC_getMin
#pragma debug scope 11 1
#line 130 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
_ADC_getMin .section 'code'
_ADC_getMin proc
#line 132 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	mov a,_minAC[0]
	mov ra,a
	mov a,_minAC[1]
	mov rb,a
	ret
_ADC_getMin endp
#line 132 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
#pragma debug scope 1 1
public _ADC_getMaxTime
#pragma debug scope 12 1
#line 135 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
_ADC_getMaxTime .section 'code'
_ADC_getMaxTime proc
#line 137 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	mov a,_maxTime[0]
	mov ra,a
	mov a,_maxTime[1]
	mov rb,a
	ret
_ADC_getMaxTime endp
#line 137 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
#pragma debug scope 1 1
public _ADC_getMinTime
#pragma debug scope 13 1
#line 140 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
_ADC_getMinTime .section 'code'
_ADC_getMinTime proc
#line 142 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	mov a,_minTime[0]
	mov ra,a
	mov a,_minTime[1]
	mov rb,a
	ret
_ADC_getMinTime endp
#line 142 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
#pragma debug scope 1 1
public _ADC_getSignal
#pragma debug scope 14 1
#line 145 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
_ADC_getSignal .section 'code'
_ADC_getSignal proc
#line 146 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	mov a,_adc_signal[0]
	mov ra,a
#line 147 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	mov a,ra
	ret
_ADC_getSignal endp
#line 147 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
#pragma debug scope 1 1
public _ADC_setSignal
#pragma debug scope 15 1
#line 150 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
_ADC_setSignal .section 'code'
_ADC_setSignal proc
    local _ADC_setSignal_2 db 1 dup(?)	; 0,1
	mov ra,a
#pragma debug variable 8 15 _ADC_setSignal_2+0 "signal"
#line 151 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	mov a,ra
	mov _adc_signal[0],a
	ret
_ADC_setSignal endp
#line 151 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
#pragma debug scope 1 1
public _ADC_getCount
#pragma debug scope 16 1
#line 155 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
_ADC_getCount .section 'code'
_ADC_getCount proc
#line 157 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
	mov a,_counter[0]
	mov ra,a
	mov a,_counter[1]
	mov rb,a
	ret
_ADC_getCount endp
#line 157 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
#pragma debug scope 1 1
@HCCINIT0	.section	'data'
_runtime_counter	db 2 dup(0)
#pragma debug variable 12 1 _runtime_counter "runtime_counter"

@HCCINIT .section 'data'
@HCCINIT0	.section	'data'
_minFlag	db 0
#pragma debug variable 8 1 _minFlag "minFlag"

@HCCINIT .section 'data'
@HCCINIT0	.section	'data'
_maxFlag	db 0
#pragma debug variable 8 1 _maxFlag "maxFlag"

@HCCINIT .section 'data'
@HCCINIT0	.section	'data'
_minTime	db 2 dup(0)
#pragma debug variable 12 1 _minTime "minTime"

@HCCINIT .section 'data'
@HCCINIT0	.section	'data'
_maxTime	db 2 dup(0)
#pragma debug variable 12 1 _maxTime "maxTime"

@HCCINIT .section 'data'
@HCCINIT0	.section	'data'
_initCounter	db 0
#pragma debug variable 8 1 _initCounter "initCounter"

@HCCINIT .section 'data'
@HCCINIT0	.section	'data'
_adc_signal	db 0
#pragma debug variable 8 1 _adc_signal "adc_signal"

@HCCINIT .section 'data'
@HCCINIT0	.section	'data'
_tmp	db 4 dup(0)
#pragma debug variable 14 1 _tmp "tmp"

@HCCINIT .section 'data'
@HCCINIT0	.section	'data'
_counter	db 2 dup(0)
#pragma debug variable 12 1 _counter "counter"

@HCCINIT .section 'data'
@HCCINIT0	.section	'data'
_minAC	db 2 dup(0)
#pragma debug variable 12 1 _minAC "minAC"

@HCCINIT .section 'data'
@HCCINIT0	.section	'data'
_maxAC	db 2 dup(0)
#pragma debug variable 12 1 _maxAC "maxAC"

@HCCINIT .section 'data'
@HCCINIT0	.section	'data'
_ac	db 2 dup(0)
#pragma debug variable 12 1 _ac "ac"

@HCCINIT .section 'data'
@HCCINIT0	.section	'data'
_adc_val0	db 4 dup(0)
#pragma debug variable 29 1 _adc_val0 "adc_val0"

@HCCINIT .section 'data'
#pragma debug struct_begin 43 "__intc1_bits"
#pragma debug field 21 8 0 1 "__mf1e" ;0,1
#pragma debug field 21 8 0 1 "__mf2e" ;1,1
#pragma debug field 21 8 0 1 "__ade" ;2,1
#pragma debug field 21 8 0 1 "__tb0e" ;3,1
#pragma debug field 21 8 0 1 "__mf1f" ;4,1
#pragma debug field 21 8 0 1 "__mf2f" ;5,1
#pragma debug field 21 8 0 1 "__adf" ;6,1
#pragma debug field 21 8 0 1 "__tb0f" ;7,1
#pragma debug struct_end
#pragma debug union_begin 44 ""
#pragma debug field 2 43 "bits"
#pragma debug field 0 8 "byte"
#pragma debug union_end
#pragma debug variable 44 1 ___intc1 "__intc1" 1
#pragma debug variable 8 1 ___sadol "__sadol" 1
#pragma debug variable 8 1 ___sadoh "__sadoh" 1
#pragma debug struct_begin 45 "__sadc0_bits"
#pragma debug field 21 8 0 1 "__sacs0" ;0,1
#pragma debug field 21 8 0 1 "__sacs1" ;1,1
#pragma debug field 21 8 0 1 "__sacs2" ;2,1
#pragma debug field 21 8 0 1 ;3,1
#pragma debug field 21 8 0 1 "__adrfs" ;4,1
#pragma debug field 21 8 0 1 "__adcen" ;5,1
#pragma debug field 21 8 0 1 "__adbz" ;6,1
#pragma debug field 21 8 0 1 "__start" ;7,1
#pragma debug struct_end
#pragma debug union_begin 46 ""
#pragma debug field 2 45 "bits"
#pragma debug field 0 8 "byte"
#pragma debug union_end
#pragma debug variable 46 1 ___sadc0 "__sadc0" 1
#pragma debug struct_begin 47 "__pb_bits"
#pragma debug field 21 8 0 1 "__pb0" ;0,1
#pragma debug field 21 8 0 1 "__pb1" ;1,1
#pragma debug field 21 8 0 1 "__pb2" ;2,1
#pragma debug field 21 8 0 1 "__pb3" ;3,1
#pragma debug field 21 8 0 1 "__pb4" ;4,1
#pragma debug field 21 8 0 1 "__pb5" ;5,1
#pragma debug field 21 8 0 1 "__pb6" ;6,1
#pragma debug field 21 8 0 1 ;7,1
#pragma debug struct_end
#pragma debug union_begin 48 ""
#pragma debug field 2 47 "bits"
#pragma debug field 0 8 "byte"
#pragma debug union_end
#pragma debug variable 48 1 ___pb "__pb" 1
#pragma debug struct_begin 49 "__pbc_bits"
#pragma debug field 21 8 0 1 "__pbc0" ;0,1
#pragma debug field 21 8 0 1 "__pbc1" ;1,1
#pragma debug field 21 8 0 1 "__pbc2" ;2,1
#pragma debug field 21 8 0 1 "__pbc3" ;3,1
#pragma debug field 21 8 0 1 "__pbc4" ;4,1
#pragma debug field 21 8 0 1 "__pbc5" ;5,1
#pragma debug field 21 8 0 1 "__pbc6" ;6,1
#pragma debug field 21 8 0 1 ;7,1
#pragma debug struct_end
#pragma debug union_begin 50 ""
#pragma debug field 2 49 "bits"
#pragma debug field 0 8 "byte"
#pragma debug union_end
#pragma debug variable 50 1 ___pbc "__pbc" 1
#pragma debug struct_begin 51 "__pc_bits"
#pragma debug field 21 8 0 1 "__pc0" ;0,1
#pragma debug field 21 8 0 1 "__pc1" ;1,1
#pragma debug field 21 8 0 1 "__pc2" ;2,1
#pragma debug field 21 8 0 1 "__pc3" ;3,1
#pragma debug field 21 8 0 1 "__pc4" ;4,1
#pragma debug field 21 8 0 1 "__pc5" ;5,1
#pragma debug field 21 8 0 1 "__pc6" ;6,1
#pragma debug field 21 8 0 1 ;7,1
#pragma debug struct_end
#pragma debug union_begin 52 ""
#pragma debug field 2 51 "bits"
#pragma debug field 0 8 "byte"
#pragma debug union_end
#pragma debug variable 52 1 ___pc "__pc" 1
extern _UART_getSignal:near
extern _builtin_holtek_mant1:byte
extern _builtin_holtek_mant12p:byte
extern _builtin_holtek_signs:byte
extern _builtin_holtek_ultof:near
extern _builtin_holtek_uitof:near
extern _builtin_holtek_mant2:byte
extern _builtin_holtek_ftdiv:near
extern _builtin_holtek_dtmul:near
extern _builtin_holtek_dtol:near
extern _itoa_2:byte
extern _itoa:near
extern _builtin_holtek_dtsub:near
extern _builtin_holtek_dtdiv:near
extern _builtin_holtek_dtadd:near

; 
; Generated by holtek-gcc v3.14, Sun May 06 10:06:55 2018
; Rebuild 10
; end of file
