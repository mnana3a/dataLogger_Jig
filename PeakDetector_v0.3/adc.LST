"File: adc.c         Assembler  Version HGASM0202      Page 1


   1  0000              ; Generated by holtek-gcc v3.14, Sun May 06 10:06:55 2018
   2  0000              ; 
   3  0000              ; Configuration:
   4  0000              ;       without long instruction
   5  0000              ;       Single ROM, Multi-RAM
   6  0000              ;       bits_per_rom_unit:16
   7  0000              ;       with mp1
   8  0000              ;       with tbhp, address(0x9)
   9  0000              ;          Use tabrd-const
  10  0000              ;       
  11  0000              ;       
  12  0000              ;       
  13  0000              ; use 'tabrdc' instead of 'tabrd'
  14  0000              ;       
  15  0000              
  16  0000              #pragma translator "holtek-gcc 4.6.4" "3.14" "build 20130711"
  17  0000              ; Rebuild 10
  18  0000              
  19  0000              ir equ [2]
  20  0000              mp equ [3]
  21  0000              sbp equ [1]
  22  0000              acc equ [5]
  23  0000              bp equ [4]
  24  0000              tblp equ [7]
  25  0000              tbhp equ [9]
  26  0000              status equ [10]
  27  0000              c equ [10].0
  28  0000              ac equ [10].1
  29  0000              z equ [10].2
  30  0000              ov equ [10].3
  31  0000              intc equ [11]
  32  0000              
  33  0000              extern ra:byte
  34  0000              extern rb:byte
  35  0000              extern rc:byte
  36  0000              extern rd:byte
  37  0000              extern re:byte
  38  0000              extern rf:byte
  39  0000              extern rg:byte
  40  0000              extern rh:byte
  41  0000              extern _Crom2Prom:near
  42  0000              extern _Crom2PromNext:near
  43  0000              
  44  0000              RAMBANK 0 @HCCINIT, @HCCINIT0
  45  0000              
  46  0000              RAMBANK 0 @BITDATASEC, @BITDATASEC1
  47  0000              @HCCINIT	.section 'data'
  48  0000              @HCCINIT0	.section 'data'
  49  0000              @BITDATASEC	 .section 'data'
  50  0000              @BITDATASEC1	 .section 'data'
  51  0000              
  52  0000              #pragma debug scope 1 1
  53  0000              	extern __DELAY3:near
  54  0000              	extern __DELAYX3:near
  55  0000              	extern __DELAYX6:near
  56  0000              	extern __DELAYY5:near
  57  0000              	extern __DELAYY3:near
  58  0000              	extern _builtin_holtek_delay_2:byte
  59  0000              ___intc1 equ [15]
"File: adc.ASM       Assembler  Version HGASM0202      Page 2

  60  0000              public _ADC_init
  61  0000              #pragma debug scope 2 1

  33  0000              #line 33 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  33  0000              _ADC_init .section 'code'
  33  0000              _ADC_init proc
  34  0000              #line 34 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  34  0000  0F84        	mov a,132
  34  0001  05A3        	orm a,[35]
  34  0002  3044        	set [68].0
  34  0003  350F        	clr [15].2
  34  0004  370F        	clr [15].6
  34  0005  0FDA        	mov a,218
  34  0006  00A4        	mov [36],a
  34  0007  0F30        	mov a,48
  34  0008  05A2        	orm a,[34]
  35  0009              #line 35 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  35  0009  1F00     R  	clr _adc_val0[0]
  35  000A  1F00     R  	clr _adc_val0[1]
  35  000B  1F00     R  	clr _adc_val0[2]
  35  000C  1F00     R  	clr _adc_val0[3]
  36  000D              #line 36 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  36  000D  1F00     R  	clr _ac[0]
  36  000E  1F00     R  	clr _ac[1]
  37  000F              #line 37 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  37  000F  1F00     R  	clr _maxAC[0]
  37  0010  1F00     R  	clr _maxAC[1]
  38  0011              #line 38 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  38  0011  1F80     R  	set _minAC[0]
  38  0012  1F80     R  	set _minAC[1]
  39  0013              #line 39 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  39  0013  1F00     R  	clr _counter[0]
  39  0014  1F00     R  	clr _counter[1]
  40  0015              #line 40 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  40  0015  1F00     R  	clr _tmp[0]
  40  0016  1F00     R  	clr _tmp[1]
  40  0017  1F00     R  	clr _tmp[2]
  40  0018  1F00     R  	clr _tmp[3]
  41  0019              #line 41 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  41  0019  1F00     R  	clr _adc_signal[0]
  42  001A              #line 42 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  42  001A  1F00     R  	clr _initCounter[0]
  43  001B              #line 43 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  43  001B  1F00     R  	clr _maxTime[0]
  43  001C  1F00     R  	clr _maxTime[1]
  44  001D              #line 44 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  44  001D  1F00     R  	clr _minTime[0]
  44  001E  1F00     R  	clr _minTime[1]
  45  001F              #line 45 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  45  001F  1F00     R  	clr _maxFlag[0]
  46  0020              #line 46 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  46  0020  1F00     R  	clr _minFlag[0]
  47  0021              #line 47 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  47  0021  1F00     R  	clr _runtime_counter[0]
  47  0022  1F00     R  	clr _runtime_counter[1]
  50  0023              #line 50 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  50  0023  2800     R  	jmp _L2
  50  0024              _L3:
  52  0024              #line 52 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  52  0024  1480     R  	inc _initCounter[0]
"File: adc.c         Assembler  Version HGASM0202      Page 3

  52  0025              _L2:
  50  0025              #line 50 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  50  0025  0F63        	mov a,99
  50  0026  0200     R  	sub a,_initCounter[0]
  50  0027  3C0A        	sz c
  50  0028  2800     R  	jmp _L3
  50  0029  0003        	ret
  50  002A              _ADC_init endp
  50  002A              #line 50 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  50  002A              #pragma debug scope 1 1
  50  002A              ___sadc0 equ [34]
  50  002A              ___sadoh equ [33]
  50  002A              ___sadol equ [32]
  50  002A              ___pbc equ [38]
  50  002A              ___pb equ [37]
  50  0000              @crom	.section 'crom'
  50  0000              _LC0:
  50  0000              	db 0ah,0dh,00h
  50  0002              ___pc equ [65]
  50  0002              public _ADC_update
  50  0002              #pragma debug scope 3 1
  57  0002              #line 57 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  57  0000              _ADC_update .section 'code'
  57  0000              _ADC_update proc
  57  0000  0007[           local _ADC_update_2 db 7 dup(?)	; 0,7
            00
            ]
  57  0007              #pragma debug array 42 8 5 3
  57  0007              #pragma debug array 42 8 5 3
  57  0007              #pragma debug variable 42 3 _ADC_update_2+0 "c"
  59  0007              #line 59 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  59  0000  2000     E  	call _UART_getSignal
  59  0001  0080     E  	mov ra,a
  59  0002  1080     E  	sz ra
  59  0003  2800     R  	jmp _L5
  61  0004              #line 61 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  61  0004  1480     R  	inc _counter[0]
  61  0005  3D0A        	sz z
  61  0006  1480     R  	inc _counter[1]
  62  0007              #line 62 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  62  0007  3722        	clr [34].6
  62  0008  0F01        	mov a,1
  62  0009  00C4        	mov [68],a
  62  000A  0F30        	mov a,48
  62  000B  00A2        	mov [34],a
  62  000C  37A2        	clr [34].7
  62  000D  33A2        	set [34].7
  62  000E  37A2        	clr [34].7
  62  000F              _L9:
  62  000F  3B22        	snz [34].6
  62  0010  2800     R  	jmp _L9
  62  0011  3722        	clr [34].6
  62  0012  370F        	clr [15].6
  63  0013              #line 63 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  63  0013  0721        	mov a,[33]
  63  0014  0080     E  	mov rc,a
  63  0015  1F00     E  	clr rb
  63  0016  0720        	mov a,[32]
  63  0017  0580     E  	orm a,rb
  63  0018  0700     E  	mov a,rb
"File: adc.c         Assembler  Version HGASM0202      Page 4

  63  0019  0380     R  	addm a,_tmp[0]
  63  001A  0700     E  	mov a,rc
  63  001B  1380     R  	adcm a,_tmp[1]
  63  001C  1F05        	clr acc
  63  001D  1380     R  	adcm a,_tmp[2]
  63  001E  1380     R  	adcm a,_tmp[3]
  65  001F              #line 65 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  65  001F  0700     R  	mov a,_counter[0]
  65  0020  0C28        	xor a,40
  65  0021  0500     R  	or a,_counter[1]
  65  0022  390A        	snz z
  65  0023  2800     R  	jmp _L5
  67  0024              #line 67 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  67  0024  1480     R  	inc _runtime_counter[0]
  67  0025  3D0A        	sz z
  67  0026  1480     R  	inc _runtime_counter[1]
  68  0027              #line 68 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  68  0027  36A2        	clr [34].5
  68  0028  1F44        	clr [68]
  69  0029              #line 69 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  69  0029  1F26        	clr [38]
  70  002A              #line 70 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  70  002A  1F25        	clr [37]
  72  002B              #line 72 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  72  002B  0700     R  	mov a,_tmp[3]
  72  002C  0080     E  	mov _builtin_holtek_mant12p[0],a
  72  002D  0700     R  	mov a,_tmp[2]
  72  002E  0080     E  	mov _builtin_holtek_mant1[2],a
  72  002F  0700     R  	mov a,_tmp[1]
  72  0030  0080     E  	mov _builtin_holtek_mant1[1],a
  72  0031  0700     R  	mov a,_tmp[0]
  72  0032  0080     E  	mov _builtin_holtek_mant1[0],a
  72  0033  3400     E  	clr _builtin_holtek_signs.0
  72  0034  2000     E  	call _builtin_holtek_ultof
  72  0035  0700     E  	mov a,_builtin_holtek_mant1[2]
  72  0036  0080     E  	mov rh,a
  72  0037  0700     E  	mov a,_builtin_holtek_mant1[1]
  72  0038  0080     E  	mov rg,a
  72  0039  0700     E  	mov a,_builtin_holtek_mant1[0]
  72  003A  0080     E  	mov rf,a
  72  003B  0700     R  	mov a,_counter[1]
  72  003C  0080     E  	mov _builtin_holtek_mant1[1],a
  72  003D  0700     R  	mov a,_counter[0]
  72  003E  0080     E  	mov _builtin_holtek_mant1[0],a
  72  003F  3400     E  	clr _builtin_holtek_signs.0
  72  0040  2000     E  	call _builtin_holtek_uitof
  72  0041  0700     E  	mov a,_builtin_holtek_mant1[2]
  72  0042  0080     E  	mov re,a
  72  0043  0700     E  	mov a,_builtin_holtek_mant1[1]
  72  0044  0080     E  	mov rd,a
  72  0045  0700     E  	mov a,_builtin_holtek_mant1[0]
  72  0046  0080     E  	mov rc,a
  72  0047  0700     E  	mov a,rh
  72  0048  0080     E  	mov _builtin_holtek_mant1[2],a
  72  0049  0700     E  	mov a,rg
  72  004A  0080     E  	mov _builtin_holtek_mant1[1],a
  72  004B  0700     E  	mov a,rf
  72  004C  0080     E  	mov _builtin_holtek_mant1[0],a
  72  004D  0700     E  	mov a,re
  72  004E  0080     E  	mov _builtin_holtek_mant2[2],a
"File: adc.c         Assembler  Version HGASM0202      Page 5

  72  004F  0700     E  	mov a,rd
  72  0050  0080     E  	mov _builtin_holtek_mant2[1],a
  72  0051  0700     E  	mov a,rc
  72  0052  0080     E  	mov _builtin_holtek_mant2[0],a
  72  0053  2000     E  	call _builtin_holtek_ftdiv
  72  0054  0700     E  	mov a,_builtin_holtek_mant1[2]
  72  0055  0080     E  	mov re,a
  72  0056  0700     E  	mov a,_builtin_holtek_mant1[1]
  72  0057  0080     E  	mov rd,a
  72  0058  0700     E  	mov a,_builtin_holtek_mant1[0]
  72  0059  0080     E  	mov rc,a
  72  005A  0700     E  	mov a,re
  72  005B  0080     E  	mov rg,a
  72  005C  0700     E  	mov a,rd
  72  005D  0080     E  	mov rf,a
  72  005E  0700     E  	mov a,rc
  72  005F  0080     E  	mov re,a
  72  0060  1F00     E  	clr rd
  72  0061  0700     E  	mov a,rg
  72  0062  0080     E  	mov _builtin_holtek_mant12p[0],a
  72  0063  0700     E  	mov a,rf
  72  0064  0080     E  	mov _builtin_holtek_mant1[2],a
  72  0065  0700     E  	mov a,re
  72  0066  0080     E  	mov _builtin_holtek_mant1[1],a
  72  0067  0700     E  	mov a,rd
  72  0068  0080     E  	mov _builtin_holtek_mant1[0],a
  72  0069  0F3D        	mov a,61
  72  006A  0080     E  	mov _builtin_holtek_mant12p[1],a
  72  006B  0FB3        	mov a,179
  72  006C  0080     E  	mov _builtin_holtek_mant2[2],a
  72  006D  0FC0        	mov a,192
  72  006E  0080     E  	mov _builtin_holtek_mant2[1],a
  72  006F  0FC2        	mov a,194
  72  0070  0080     E  	mov _builtin_holtek_mant2[0],a
  72  0071  2000     E  	call _builtin_holtek_dtmul
  72  0072  0700     E  	mov a,_builtin_holtek_mant12p[0]
  72  0073  0080     R  	mov _adc_val0[3],a
  72  0074  0700     E  	mov a,_builtin_holtek_mant1[2]
  72  0075  0080     R  	mov _adc_val0[2],a
  72  0076  0700     E  	mov a,_builtin_holtek_mant1[1]
  72  0077  0080     R  	mov _adc_val0[1],a
  72  0078  0700     E  	mov a,_builtin_holtek_mant1[0]
  72  0079  0080     R  	mov _adc_val0[0],a
  72  007A              #pragma debug scope 4 3
  72  007A              ;begin block, line: 72.-1
  73  007A              #line 73 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  73  007A  1F00     E  	clr ra
  73  007B              _L11:
  73  007B  0F00     R  	mov a,low offset _LC0
  73  007C  0300     E  	add a,ra
  73  007D  0083        	mov mp,a
  73  007E  0F00     R  	mov a,high offset _LC0
  73  007F  1F01        	clr sbp
  73  0080  1381        	adcm a,sbp
  73  0081  2000     E  	call _Crom2Prom
  73  0082  0080     E  	mov rb,a
  73  0083  1080     E  	sz rb
  73  0084  2800     R  	jmp _LI1
  73  0085  2800     R  	jmp _L16
  73  0086              _LI1:
"File: adc.c         Assembler  Version HGASM0202      Page 6

  73  0086              _L13:
  73  0086  3855        	snz [85].0
  73  0087  2800     R  	jmp _L13
  73  0088  0700     E  	mov a,rb
  73  0089  00D9        	mov [89],a
  73  008A  1480     E  	inc ra
  73  008B  2800     R  	jmp _L11
  73  008C              _L16:
  73  008C  3855        	snz [85].0
  73  008D  2800     R  	jmp _L16
  73  008E  1F59        	clr [89]
  73  008F              #pragma debug scope 3 1
  74  008F              #line 74 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  74  008F  0700     R  	mov a,_adc_val0[0]
  74  0090  0080     E  	mov rd,a
  74  0091  0700     R  	mov a,_adc_val0[1]
  74  0092  0080     E  	mov re,a
  74  0093  0700     R  	mov a,_adc_val0[2]
  74  0094  0080     E  	mov rf,a
  74  0095  0700     R  	mov a,_adc_val0[3]
  74  0096  0080     E  	mov rg,a
  74  0097  0F00     R  	mov a,low offset _ADC_update_2
  74  0098  0080     E  	mov _itoa_2[2],a
  74  0099  0F00     R  	mov a,high offset _ADC_update_2
  74  009A  0080     E  	mov _itoa_2[3],a
  74  009B  0700     E  	mov a,rg
  74  009C  0080     E  	mov _builtin_holtek_mant12p[0],a
  74  009D  0700     E  	mov a,rf
  74  009E  0080     E  	mov _builtin_holtek_mant1[2],a
  74  009F  0700     E  	mov a,re
  74  00A0  0080     E  	mov _builtin_holtek_mant1[1],a
  74  00A1  0700     E  	mov a,rd
  74  00A2  0080     E  	mov _builtin_holtek_mant1[0],a
  74  00A3  2000     E  	call _builtin_holtek_dtol
  74  00A4  0700     E  	mov a,_builtin_holtek_mant12p[0]
  74  00A5  0080     E  	mov rg,a
  74  00A6  0700     E  	mov a,_builtin_holtek_mant1[2]
  74  00A7  0080     E  	mov rf,a
  74  00A8  0700     E  	mov a,_builtin_holtek_mant1[1]
  74  00A9  0080     E  	mov re,a
  74  00AA  0700     E  	mov a,_builtin_holtek_mant1[0]
  74  00AB  0080     E  	mov rd,a
  74  00AC  0700     E  	mov a,rd
  74  00AD  0080     E  	mov _itoa_2[0],a
  74  00AE  0700     E  	mov a,re
  74  00AF  0080     E  	mov _itoa_2[1],a
  74  00B0  2000     E  	call _itoa
  74  00B1              #pragma debug scope 5 3
  74  00B1              ;begin block, line: 74.-1
  75  00B1              #line 75 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  75  00B1  1F00     E  	clr ra
  75  00B2              _L17:
  75  00B2  0F00     R  	mov a,low offset _ADC_update_2
  75  00B3  0080     E  	mov rb,a
  75  00B4  0F00     R  	mov a,high offset _ADC_update_2
  75  00B5  0080     E  	mov rc,a
  75  00B6  0700     E  	mov a,ra
  75  00B7  0300     E  	add a,rb
  75  00B8  0083        	mov mp,a
  75  00B9  1F05        	clr acc
"File: adc.c         Assembler  Version HGASM0202      Page 7

  75  00BA  1300     E  	adc a,rc
  75  00BB  0081        	mov sbp,a
  75  00BC  2000     E  	call _Crom2Prom
  75  00BD  0080     E  	mov rb,a
  75  00BE  1080     E  	sz rb
  75  00BF  2800     R  	jmp _LI2
  75  00C0  2800     R  	jmp _L22
  75  00C1              _LI2:
  75  00C1              _L19:
  75  00C1  3855        	snz [85].0
  75  00C2  2800     R  	jmp _L19
  75  00C3  0700     E  	mov a,rb
  75  00C4  00D9        	mov [89],a
  75  00C5  1480     E  	inc ra
  75  00C6  2800     R  	jmp _L17
  75  00C7              _L22:
  75  00C7  3855        	snz [85].0
  75  00C8  2800     R  	jmp _L22
  75  00C9  1F59        	clr [89]
  75  00CA              #pragma debug scope 3 1
  75  00CA              #pragma debug scope 6 3
  75  00CA              ;begin block, line: 75.-1
  76  00CA              #line 76 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  76  00CA  1F00     E  	clr ra
  76  00CB              _L23:
  76  00CB  0F00     R  	mov a,low offset _LC0
  76  00CC  0300     E  	add a,ra
  76  00CD  0083        	mov mp,a
  76  00CE  0F00     R  	mov a,high offset _LC0
  76  00CF  1F01        	clr sbp
  76  00D0  1381        	adcm a,sbp
  76  00D1  2000     E  	call _Crom2Prom
  76  00D2  0080     E  	mov rb,a
  76  00D3  1080     E  	sz rb
  76  00D4  2800     R  	jmp _LI3
  76  00D5  2800     R  	jmp _L28
  76  00D6              _LI3:
  76  00D6              _L25:
  76  00D6  3855        	snz [85].0
  76  00D7  2800     R  	jmp _L25
  76  00D8  0700     E  	mov a,rb
  76  00D9  00D9        	mov [89],a
  76  00DA  1480     E  	inc ra
  76  00DB  2800     R  	jmp _L23
  76  00DC              _L28:
  76  00DC  3855        	snz [85].0
  76  00DD  2800     R  	jmp _L28
  76  00DE  1F59        	clr [89]
  76  00DF              #pragma debug scope 3 1
  80  00DF              #line 80 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  80  00DF  0700     R  	mov a,_adc_val0[3]
  80  00E0  0080     E  	mov _builtin_holtek_mant12p[0],a
  80  00E1  0700     R  	mov a,_adc_val0[2]
  80  00E2  0080     E  	mov _builtin_holtek_mant1[2],a
  80  00E3  0700     R  	mov a,_adc_val0[1]
  80  00E4  0080     E  	mov _builtin_holtek_mant1[1],a
  80  00E5  0700     R  	mov a,_adc_val0[0]
  80  00E6  0080     E  	mov _builtin_holtek_mant1[0],a
  80  00E7  0F43        	mov a,67
  80  00E8  0080     E  	mov _builtin_holtek_mant12p[1],a
"File: adc.c         Assembler  Version HGASM0202      Page 8

  80  00E9  0F57        	mov a,87
  80  00EA  0080     E  	mov _builtin_holtek_mant2[2],a
  80  00EB  0F00        	mov a,0
  80  00EC  0080     E  	mov _builtin_holtek_mant2[1],a
  80  00ED  0F00        	mov a,0
  80  00EE  0080     E  	mov _builtin_holtek_mant2[0],a
  80  00EF  2000     E  	call _builtin_holtek_dtsub
  80  00F0  3C00     E  	sz _builtin_holtek_mant12p[0].7
  80  00F1  2800     R  	jmp _LI4
  80  00F2  0700     E  	mov a,_builtin_holtek_mant12p[0]
  80  00F3  0500     E  	or a,_builtin_holtek_mant1[2]
  80  00F4  0500     E  	or a,_builtin_holtek_mant1[1]
  80  00F5  0500     E  	or a,_builtin_holtek_mant1[0]
  80  00F6  390A        	snz z
  80  00F7  2800     R  	jmp _L51
  80  00F8              _LI4:
  80  00F8  2800     R  	jmp _L61
  80  00F9              _L51:
  80  00F9  0700     R  	mov a,_adc_val0[3]
  80  00FA  0080     E  	mov _builtin_holtek_mant12p[0],a
  80  00FB  0700     R  	mov a,_adc_val0[2]
  80  00FC  0080     E  	mov _builtin_holtek_mant1[2],a
  80  00FD  0700     R  	mov a,_adc_val0[1]
  80  00FE  0080     E  	mov _builtin_holtek_mant1[1],a
  80  00FF  0700     R  	mov a,_adc_val0[0]
  80  0100  0080     E  	mov _builtin_holtek_mant1[0],a
  80  0101  0F43        	mov a,67
  80  0102  0080     E  	mov _builtin_holtek_mant12p[1],a
  80  0103  0F57        	mov a,87
  80  0104  0080     E  	mov _builtin_holtek_mant2[2],a
  80  0105  0F00        	mov a,0
  80  0106  0080     E  	mov _builtin_holtek_mant2[1],a
  80  0107  0F00        	mov a,0
  80  0108  0080     E  	mov _builtin_holtek_mant2[0],a
  80  0109  2000     E  	call _builtin_holtek_dtsub
  80  010A  0700     E  	mov a,_builtin_holtek_mant12p[0]
  80  010B  0080     E  	mov rg,a
  80  010C  0700     E  	mov a,_builtin_holtek_mant1[2]
  80  010D  0080     E  	mov rf,a
  80  010E  0700     E  	mov a,_builtin_holtek_mant1[1]
  80  010F  0080     E  	mov re,a
  80  0110  0700     E  	mov a,_builtin_holtek_mant1[0]
  80  0111  0080     E  	mov rd,a
  80  0112  0700     E  	mov a,rg
  80  0113  0080     E  	mov _builtin_holtek_mant12p[0],a
  80  0114  0700     E  	mov a,rf
  80  0115  0080     E  	mov _builtin_holtek_mant1[2],a
  80  0116  0700     E  	mov a,re
  80  0117  0080     E  	mov _builtin_holtek_mant1[1],a
  80  0118  0700     E  	mov a,rd
  80  0119  0080     E  	mov _builtin_holtek_mant1[0],a
  80  011A  0F40        	mov a,64
  80  011B  0080     E  	mov _builtin_holtek_mant12p[1],a
  80  011C  0FC0        	mov a,192
  80  011D  0080     E  	mov _builtin_holtek_mant2[2],a
  80  011E  0F00        	mov a,0
  80  011F  0080     E  	mov _builtin_holtek_mant2[1],a
  80  0120  0F00        	mov a,0
  80  0121  0080     E  	mov _builtin_holtek_mant2[0],a
  80  0122  2000     E  	call _builtin_holtek_dtdiv
"File: adc.c         Assembler  Version HGASM0202      Page 9

  80  0123  0700     E  	mov a,_builtin_holtek_mant12p[0]
  80  0124  0080     E  	mov rg,a
  80  0125  0700     E  	mov a,_builtin_holtek_mant1[2]
  80  0126  0080     E  	mov rf,a
  80  0127  0700     E  	mov a,_builtin_holtek_mant1[1]
  80  0128  0080     E  	mov re,a
  80  0129  0700     E  	mov a,_builtin_holtek_mant1[0]
  80  012A  0080     E  	mov rd,a
  80  012B  0700     R  	mov a,_adc_val0[3]
  80  012C  0080     E  	mov _builtin_holtek_mant12p[0],a
  80  012D  0700     R  	mov a,_adc_val0[2]
  80  012E  0080     E  	mov _builtin_holtek_mant1[2],a
  80  012F  0700     R  	mov a,_adc_val0[1]
  80  0130  0080     E  	mov _builtin_holtek_mant1[1],a
  80  0131  0700     R  	mov a,_adc_val0[0]
  80  0132  0080     E  	mov _builtin_holtek_mant1[0],a
  80  0133  0700     E  	mov a,rg
  80  0134  0080     E  	mov _builtin_holtek_mant12p[1],a
  80  0135  0700     E  	mov a,rf
  80  0136  0080     E  	mov _builtin_holtek_mant2[2],a
  80  0137  0700     E  	mov a,re
  80  0138  0080     E  	mov _builtin_holtek_mant2[1],a
  80  0139  0700     E  	mov a,rd
  80  013A  0080     E  	mov _builtin_holtek_mant2[0],a
  80  013B  2000     E  	call _builtin_holtek_dtsub
  80  013C  0700     E  	mov a,_builtin_holtek_mant12p[0]
  80  013D  0080     R  	mov _adc_val0[3],a
  80  013E  0700     E  	mov a,_builtin_holtek_mant1[2]
  80  013F  0080     R  	mov _adc_val0[2],a
  80  0140  0700     E  	mov a,_builtin_holtek_mant1[1]
  80  0141  0080     R  	mov _adc_val0[1],a
  80  0142  0700     E  	mov a,_builtin_holtek_mant1[0]
  80  0143  0080     R  	mov _adc_val0[0],a
  80  0144  2800     R  	jmp _L31
  80  0145              _L61:
  81  0145              #line 81 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  81  0145  0700     R  	mov a,_adc_val0[3]
  81  0146  0080     E  	mov _builtin_holtek_mant12p[0],a
  81  0147  0700     R  	mov a,_adc_val0[2]
  81  0148  0080     E  	mov _builtin_holtek_mant1[2],a
  81  0149  0700     R  	mov a,_adc_val0[1]
  81  014A  0080     E  	mov _builtin_holtek_mant1[1],a
  81  014B  0700     R  	mov a,_adc_val0[0]
  81  014C  0080     E  	mov _builtin_holtek_mant1[0],a
  81  014D  0F43        	mov a,67
  81  014E  0080     E  	mov _builtin_holtek_mant12p[1],a
  81  014F  0F57        	mov a,87
  81  0150  0080     E  	mov _builtin_holtek_mant2[2],a
  81  0151  0F00        	mov a,0
  81  0152  0080     E  	mov _builtin_holtek_mant2[1],a
  81  0153  0F00        	mov a,0
  81  0154  0080     E  	mov _builtin_holtek_mant2[0],a
  81  0155  2000     E  	call _builtin_holtek_dtsub
  81  0156  3C00     E  	sz _builtin_holtek_mant12p[0].7
  81  0157  2800     R  	jmp _L52
  81  0158  2800     R  	jmp _L31
  81  0159              _L52:
  81  0159  1F00     E  	clr rd
  81  015A  1F00     E  	clr re
  81  015B  0F57        	mov a,87
"File: adc.c         Assembler  Version HGASM0202      Page 10

  81  015C  0080     E  	mov rf,a
  81  015D  0F43        	mov a,67
  81  015E  0080     E  	mov rg,a
  81  015F  0700     E  	mov a,rg
  81  0160  0080     E  	mov _builtin_holtek_mant12p[0],a
  81  0161  0700     E  	mov a,rf
  81  0162  0080     E  	mov _builtin_holtek_mant1[2],a
  81  0163  0700     E  	mov a,re
  81  0164  0080     E  	mov _builtin_holtek_mant1[1],a
  81  0165  0700     E  	mov a,rd
  81  0166  0080     E  	mov _builtin_holtek_mant1[0],a
  81  0167  0700     R  	mov a,_adc_val0[3]
  81  0168  0080     E  	mov _builtin_holtek_mant12p[1],a
  81  0169  0700     R  	mov a,_adc_val0[2]
  81  016A  0080     E  	mov _builtin_holtek_mant2[2],a
  81  016B  0700     R  	mov a,_adc_val0[1]
  81  016C  0080     E  	mov _builtin_holtek_mant2[1],a
  81  016D  0700     R  	mov a,_adc_val0[0]
  81  016E  0080     E  	mov _builtin_holtek_mant2[0],a
  81  016F  2000     E  	call _builtin_holtek_dtsub
  81  0170  0700     E  	mov a,_builtin_holtek_mant12p[0]
  81  0171  0080     E  	mov rg,a
  81  0172  0700     E  	mov a,_builtin_holtek_mant1[2]
  81  0173  0080     E  	mov rf,a
  81  0174  0700     E  	mov a,_builtin_holtek_mant1[1]
  81  0175  0080     E  	mov re,a
  81  0176  0700     E  	mov a,_builtin_holtek_mant1[0]
  81  0177  0080     E  	mov rd,a
  81  0178  0700     E  	mov a,rg
  81  0179  0080     E  	mov _builtin_holtek_mant12p[0],a
  81  017A  0700     E  	mov a,rf
  81  017B  0080     E  	mov _builtin_holtek_mant1[2],a
  81  017C  0700     E  	mov a,re
  81  017D  0080     E  	mov _builtin_holtek_mant1[1],a
  81  017E  0700     E  	mov a,rd
  81  017F  0080     E  	mov _builtin_holtek_mant1[0],a
  81  0180  0F40        	mov a,64
  81  0181  0080     E  	mov _builtin_holtek_mant12p[1],a
  81  0182  0FE0        	mov a,224
  81  0183  0080     E  	mov _builtin_holtek_mant2[2],a
  81  0184  0F00        	mov a,0
  81  0185  0080     E  	mov _builtin_holtek_mant2[1],a
  81  0186  0F00        	mov a,0
  81  0187  0080     E  	mov _builtin_holtek_mant2[0],a
  81  0188  2000     E  	call _builtin_holtek_dtdiv
  81  0189  0700     E  	mov a,_builtin_holtek_mant12p[0]
  81  018A  0080     E  	mov rg,a
  81  018B  0700     E  	mov a,_builtin_holtek_mant1[2]
  81  018C  0080     E  	mov rf,a
  81  018D  0700     E  	mov a,_builtin_holtek_mant1[1]
  81  018E  0080     E  	mov re,a
  81  018F  0700     E  	mov a,_builtin_holtek_mant1[0]
  81  0190  0080     E  	mov rd,a
  81  0191  0700     R  	mov a,_adc_val0[3]
  81  0192  0080     E  	mov _builtin_holtek_mant12p[0],a
  81  0193  0700     R  	mov a,_adc_val0[2]
  81  0194  0080     E  	mov _builtin_holtek_mant1[2],a
  81  0195  0700     R  	mov a,_adc_val0[1]
  81  0196  0080     E  	mov _builtin_holtek_mant1[1],a
  81  0197  0700     R  	mov a,_adc_val0[0]
"File: adc.c         Assembler  Version HGASM0202      Page 11

  81  0198  0080     E  	mov _builtin_holtek_mant1[0],a
  81  0199  0700     E  	mov a,rg
  81  019A  0080     E  	mov _builtin_holtek_mant12p[1],a
  81  019B  0700     E  	mov a,rf
  81  019C  0080     E  	mov _builtin_holtek_mant2[2],a
  81  019D  0700     E  	mov a,re
  81  019E  0080     E  	mov _builtin_holtek_mant2[1],a
  81  019F  0700     E  	mov a,rd
  81  01A0  0080     E  	mov _builtin_holtek_mant2[0],a
  81  01A1  2000     E  	call _builtin_holtek_dtadd
  81  01A2  0700     E  	mov a,_builtin_holtek_mant12p[0]
  81  01A3  0080     R  	mov _adc_val0[3],a
  81  01A4  0700     E  	mov a,_builtin_holtek_mant1[2]
  81  01A5  0080     R  	mov _adc_val0[2],a
  81  01A6  0700     E  	mov a,_builtin_holtek_mant1[1]
  81  01A7  0080     R  	mov _adc_val0[1],a
  81  01A8  0700     E  	mov a,_builtin_holtek_mant1[0]
  81  01A9  0080     R  	mov _adc_val0[0],a
  81  01AA              _L31:
  83  01AA              #line 83 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  83  01AA  0700     R  	mov a,_adc_val0[0]
  83  01AB  0080     E  	mov rd,a
  83  01AC  0700     R  	mov a,_adc_val0[1]
  83  01AD  0080     E  	mov re,a
  83  01AE  0700     R  	mov a,_adc_val0[2]
  83  01AF  0080     E  	mov rf,a
  83  01B0  0700     R  	mov a,_adc_val0[3]
  83  01B1  0080     E  	mov rg,a
  83  01B2  0F00     R  	mov a,low offset _ADC_update_2
  83  01B3  0080     E  	mov _itoa_2[2],a
  83  01B4  0F00     R  	mov a,high offset _ADC_update_2
  83  01B5  0080     E  	mov _itoa_2[3],a
  83  01B6  0700     E  	mov a,rg
  83  01B7  0080     E  	mov _builtin_holtek_mant12p[0],a
  83  01B8  0700     E  	mov a,rf
  83  01B9  0080     E  	mov _builtin_holtek_mant1[2],a
  83  01BA  0700     E  	mov a,re
  83  01BB  0080     E  	mov _builtin_holtek_mant1[1],a
  83  01BC  0700     E  	mov a,rd
  83  01BD  0080     E  	mov _builtin_holtek_mant1[0],a
  83  01BE  2000     E  	call _builtin_holtek_dtol
  83  01BF  0700     E  	mov a,_builtin_holtek_mant12p[0]
  83  01C0  0080     E  	mov rg,a
  83  01C1  0700     E  	mov a,_builtin_holtek_mant1[2]
  83  01C2  0080     E  	mov rf,a
  83  01C3  0700     E  	mov a,_builtin_holtek_mant1[1]
  83  01C4  0080     E  	mov re,a
  83  01C5  0700     E  	mov a,_builtin_holtek_mant1[0]
  83  01C6  0080     E  	mov rd,a
  83  01C7  0700     E  	mov a,rd
  83  01C8  0080     E  	mov _itoa_2[0],a
  83  01C9  0700     E  	mov a,re
  83  01CA  0080     E  	mov _itoa_2[1],a
  83  01CB  2000     E  	call _itoa
  83  01CC              #pragma debug scope 7 3
  83  01CC              ;begin block, line: 83.-1
  84  01CC              #line 84 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  84  01CC  1F00     E  	clr ra
  84  01CD              _L33:
  84  01CD  0F00     R  	mov a,low offset _ADC_update_2
"File: adc.c         Assembler  Version HGASM0202      Page 12

  84  01CE  0080     E  	mov rc,a
  84  01CF  0F00     R  	mov a,high offset _ADC_update_2
  84  01D0  0080     E  	mov rd,a
  84  01D1  0700     E  	mov a,ra
  84  01D2  0300     E  	add a,rc
  84  01D3  0083        	mov mp,a
  84  01D4  1F05        	clr acc
  84  01D5  1300     E  	adc a,rd
  84  01D6  0081        	mov sbp,a
  84  01D7  2000     E  	call _Crom2Prom
  84  01D8  0080     E  	mov rb,a
  84  01D9  1080     E  	sz rb
  84  01DA  2800     R  	jmp _LI5
  84  01DB  2800     R  	jmp _L38
  84  01DC              _LI5:
  84  01DC              _L35:
  84  01DC  3855        	snz [85].0
  84  01DD  2800     R  	jmp _L35
  84  01DE  0700     E  	mov a,rb
  84  01DF  00D9        	mov [89],a
  84  01E0  1480     E  	inc ra
  84  01E1  2800     R  	jmp _L33
  84  01E2              _L38:
  84  01E2  3855        	snz [85].0
  84  01E3  2800     R  	jmp _L38
  84  01E4  1F59        	clr [89]
  84  01E5              #pragma debug scope 3 1
  84  01E5              #pragma debug scope 8 3
  84  01E5              ;begin block, line: 84.-1
  85  01E5              #line 85 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  85  01E5  1F00     E  	clr ra
  85  01E6              _L39:
  85  01E6  0F00     R  	mov a,low offset _LC0
  85  01E7  0300     E  	add a,ra
  85  01E8  0083        	mov mp,a
  85  01E9  0F00     R  	mov a,high offset _LC0
  85  01EA  1F01        	clr sbp
  85  01EB  1381        	adcm a,sbp
  85  01EC  2000     E  	call _Crom2Prom
  85  01ED  0080     E  	mov rb,a
  85  01EE  1080     E  	sz rb
  85  01EF  2800     R  	jmp _LI6
  85  01F0  2800     R  	jmp _L44
  85  01F1              _LI6:
  85  01F1              _L41:
  85  01F1  3855        	snz [85].0
  85  01F2  2800     R  	jmp _L41
  85  01F3  0700     E  	mov a,rb
  85  01F4  00D9        	mov [89],a
  85  01F5  1480     E  	inc ra
  85  01F6  2800     R  	jmp _L39
  85  01F7              _L44:
  85  01F7  3855        	snz [85].0
  85  01F8  2800     R  	jmp _L44
  85  01F9  1F59        	clr [89]
  85  01FA              #pragma debug scope 3 1
  86  01FA              #line 86 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  86  01FA  0700     R  	mov a,_adc_val0[3]
  86  01FB  0080     E  	mov _builtin_holtek_mant12p[0],a
  86  01FC  0700     R  	mov a,_adc_val0[2]
"File: adc.c         Assembler  Version HGASM0202      Page 13

  86  01FD  0080     E  	mov _builtin_holtek_mant1[2],a
  86  01FE  0700     R  	mov a,_adc_val0[1]
  86  01FF  0080     E  	mov _builtin_holtek_mant1[1],a
  86  0200  0700     R  	mov a,_adc_val0[0]
  86  0201  0080     E  	mov _builtin_holtek_mant1[0],a
  86  0202  2000     E  	call _builtin_holtek_dtol
  86  0203  0700     E  	mov a,_builtin_holtek_mant12p[0]
  86  0204  0080     E  	mov rg,a
  86  0205  0700     E  	mov a,_builtin_holtek_mant1[2]
  86  0206  0080     E  	mov rf,a
  86  0207  0700     E  	mov a,_builtin_holtek_mant1[1]
  86  0208  0080     E  	mov re,a
  86  0209  0700     E  	mov a,_builtin_holtek_mant1[0]
  86  020A  0080     E  	mov rd,a
  86  020B  0700     E  	mov a,rd
  86  020C  0080     R  	mov _ac[0],a
  86  020D  0700     E  	mov a,re
  86  020E  0080     R  	mov _ac[1],a
  88  020F              #line 88 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  88  020F  0700     R  	mov a,_maxAC[0]
  88  0210  0200     R  	sub a,_ac[0]
  88  0211  0700     R  	mov a,_maxAC[1]
  88  0212  1200     R  	sbc a,_ac[1]
  88  0213  3C0A        	sz c
  88  0214  2800     R  	jmp _L45
  88  0215  0700     R  	mov a,_ac[0]
  88  0216  0080     R  	mov _maxAC[0],a
  88  0217  0700     R  	mov a,_ac[1]
  88  0218  0080     R  	mov _maxAC[1],a
  88  0219  2800     R  	jmp _L46
  88  021A              _L45:
  89  021A              #line 89 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  89  021A  0700     R  	mov a,_ac[0]
  89  021B  0200     R  	sub a,_minAC[0]
  89  021C  0700     R  	mov a,_ac[1]
  89  021D  1200     R  	sbc a,_minAC[1]
  89  021E  3C0A        	sz c
  89  021F  2800     R  	jmp _L46
  89  0220  0700     R  	mov a,_ac[0]
  89  0221  0080     R  	mov _minAC[0],a
  89  0222  0700     R  	mov a,_ac[1]
  89  0223  0080     R  	mov _minAC[1],a
  89  0224              _L46:
  92  0224              #line 92 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  92  0224  0700     R  	mov a,_maxFlag[0]
  92  0225  0080     R  	mov _ADC_update_2[5],a
  92  0226  1080     R  	sz _ADC_update_2[5]
  92  0227  2800     R  	jmp _L47
  92  0228  0FF0        	mov a,240
  92  0229  0200     R  	sub a,_ac[0]
  92  022A  0F00        	mov a,0
  92  022B  1200     R  	sbc a,_ac[1]
  92  022C  3C0A        	sz c
  92  022D  2800     R  	jmp _L47
  95  022E              #line 95 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  95  022E  0F01        	mov a,1
  95  022F  0080     R  	mov _maxFlag[0],a
  96  0230              #line 96 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  96  0230  0700     R  	mov a,_runtime_counter[0]
  96  0231  0080     R  	mov _maxTime[0],a
"File: adc.c         Assembler  Version HGASM0202      Page 14

  96  0232  0700     R  	mov a,_runtime_counter[1]
  96  0233  0080     R  	mov _maxTime[1],a
  96  0234  2800     R  	jmp _L48
  96  0235              _L47:
  98  0235              #line 98 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
  98  0235  0700     R  	mov a,_minFlag[0]
  98  0236  0080     R  	mov _ADC_update_2[6],a
  98  0237  1080     R  	sz _ADC_update_2[6]
  98  0238  2800     R  	jmp _L49
  98  0239  0FBD        	mov a,189
  98  023A  0200     R  	sub a,_ac[0]
  98  023B  0F00        	mov a,0
  98  023C  1200     R  	sbc a,_ac[1]
  98  023D  380A        	snz c
  98  023E  2800     R  	jmp _L49
 101  023F              #line 101 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 101  023F  0F01        	mov a,1
 101  0240  0080     R  	mov _minFlag[0],a
 102  0241              #line 102 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 102  0241  0700     R  	mov a,_runtime_counter[0]
 102  0242  0080     R  	mov _minTime[0],a
 102  0243  0700     R  	mov a,_runtime_counter[1]
 102  0244  0080     R  	mov _minTime[1],a
 102  0245  2800     R  	jmp _L48
 102  0246              _L49:
 106  0246              #line 106 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 106  0246  1080     R  	sz _ADC_update_2[5]
 106  0247  2800     R  	jmp _LI7
 106  0248  2800     R  	jmp _L50
 106  0249              _LI7:
 106  0249  0FEF        	mov a,239
 106  024A  0200     R  	sub a,_ac[0]
 106  024B  0F00        	mov a,0
 106  024C  1200     R  	sbc a,_ac[1]
 106  024D  380A        	snz c
 106  024E  2800     R  	jmp _L50
 106  024F  0700     R  	mov a,_runtime_counter[0]
 106  0250  0200     R  	sub a,_maxTime[0]
 106  0251  0080     E  	mov rd,a
 106  0252  0700     R  	mov a,_runtime_counter[1]
 106  0253  1200     R  	sbc a,_maxTime[1]
 106  0254  0080     E  	mov re,a
 106  0255  0700     E  	mov a,rd
 106  0256  0080     E  	mov rb,a
 106  0257  0700     E  	mov a,re
 106  0258  0080     E  	mov rc,a
 106  0259  340A        	clr c
 106  025A  1A00     E  	rlca rb
 106  025B  0080     R  	mov _maxTime[0],a
 106  025C  1A00     E  	rlca rc
 106  025D  0080     R  	mov _maxTime[1],a
 106  025E  1F00     R  	clr _maxFlag[0]
 106  025F  2800     R  	jmp _L60
 106  0260              _L50:
 107  0260              #line 107 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 107  0260  1080     R  	sz _ADC_update_2[6]
 107  0261  2800     R  	jmp _LI8
 107  0262  2800     R  	jmp _L48
 107  0263              _LI8:
 107  0263  0FBE        	mov a,190
"File: adc.c         Assembler  Version HGASM0202      Page 15

 107  0264  0200     R  	sub a,_ac[0]
 107  0265  0F00        	mov a,0
 107  0266  1200     R  	sbc a,_ac[1]
 107  0267  3C0A        	sz c
 107  0268  2800     R  	jmp _L48
 107  0269  0700     R  	mov a,_runtime_counter[0]
 107  026A  0200     R  	sub a,_minTime[0]
 107  026B  0080     E  	mov rd,a
 107  026C  0700     R  	mov a,_runtime_counter[1]
 107  026D  1200     R  	sbc a,_minTime[1]
 107  026E  0080     E  	mov re,a
 107  026F  0700     E  	mov a,rd
 107  0270  0080     E  	mov rb,a
 107  0271  0700     E  	mov a,re
 107  0272  0080     E  	mov rc,a
 107  0273  340A        	clr c
 107  0274  1A00     E  	rlca rb
 107  0275  0080     R  	mov _minTime[0],a
 107  0276  1A00     E  	rlca rc
 107  0277  0080     R  	mov _minTime[1],a
 107  0278  1F00     R  	clr _minFlag[0]
 107  0279              _L60:
 107  0279  1F00     R  	clr _runtime_counter[0]
 107  027A  1F00     R  	clr _runtime_counter[1]
 107  027B              _L48:
 110  027B              #line 110 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 110  027B  0F01        	mov a,1
 110  027C  0080     R  	mov _adc_signal[0],a
 111  027D              #line 111 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 111  027D  0F04        	mov a,4
 111  027E  04C1        	xorm a,[65]
 112  027F              #line 112 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 112  027F  1F00     R  	clr _tmp[0]
 112  0280  1F00     R  	clr _tmp[1]
 112  0281  1F00     R  	clr _tmp[2]
 112  0282  1F00     R  	clr _tmp[3]
 113  0283              #line 113 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 113  0283  1F00     R  	clr _counter[0]
 113  0284  1F00     R  	clr _counter[1]
 114  0285              #line 114 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 114  0285  3044        	set [68].0
 114  0286  32A2        	set [34].5
 114  0287              _L5:
 114  0287  0003        	ret
 114  0288              _ADC_update endp
 114  0288              #line 114 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 114  0288              #pragma debug scope 1 1
 114  0288              public _ADC_getValue
 114  0288              #pragma debug scope 9 1
 120  0288              #line 120 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 120  0000              _ADC_getValue .section 'code'
 120  0000              _ADC_getValue proc
 120  0000  00              local _ADC_getValue_2 db 1 dup(?)	; 0,1
 120  0000  0080     R  	mov _ADC_getValue_2[0],a
 120  0001              #pragma debug variable 8 9 _ADC_getValue_2+0 "adc_channel"
 122  0001              #line 122 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 122  0001  0700     R  	mov a,_ac[0]
 122  0002  0080     E  	mov ra,a
 122  0003  0700     R  	mov a,_ac[1]
 122  0004  0080     E  	mov rb,a
"File: adc.c         Assembler  Version HGASM0202      Page 16

 122  0005  0003        	ret
 122  0006              _ADC_getValue endp
 122  0006              #line 122 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 122  0006              #pragma debug scope 1 1
 122  0006              public _ADC_getMax
 122  0006              #pragma debug scope 10 1
 125  0006              #line 125 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 125  0000              _ADC_getMax .section 'code'
 125  0000              _ADC_getMax proc
 127  0000              #line 127 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 127  0000  0700     R  	mov a,_maxAC[0]
 127  0001  0080     E  	mov ra,a
 127  0002  0700     R  	mov a,_maxAC[1]
 127  0003  0080     E  	mov rb,a
 127  0004  0003        	ret
 127  0005              _ADC_getMax endp
 127  0005              #line 127 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 127  0005              #pragma debug scope 1 1
 127  0005              public _ADC_getMin
 127  0005              #pragma debug scope 11 1
 130  0005              #line 130 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 130  0000              _ADC_getMin .section 'code'
 130  0000              _ADC_getMin proc
 132  0000              #line 132 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 132  0000  0700     R  	mov a,_minAC[0]
 132  0001  0080     E  	mov ra,a
 132  0002  0700     R  	mov a,_minAC[1]
 132  0003  0080     E  	mov rb,a
 132  0004  0003        	ret
 132  0005              _ADC_getMin endp
 132  0005              #line 132 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 132  0005              #pragma debug scope 1 1
 132  0005              public _ADC_getMaxTime
 132  0005              #pragma debug scope 12 1
 135  0005              #line 135 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 135  0000              _ADC_getMaxTime .section 'code'
 135  0000              _ADC_getMaxTime proc
 137  0000              #line 137 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 137  0000  0700     R  	mov a,_maxTime[0]
 137  0001  0080     E  	mov ra,a
 137  0002  0700     R  	mov a,_maxTime[1]
 137  0003  0080     E  	mov rb,a
 137  0004  0003        	ret
 137  0005              _ADC_getMaxTime endp
 137  0005              #line 137 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 137  0005              #pragma debug scope 1 1
 137  0005              public _ADC_getMinTime
 137  0005              #pragma debug scope 13 1
 140  0005              #line 140 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 140  0000              _ADC_getMinTime .section 'code'
 140  0000              _ADC_getMinTime proc
 142  0000              #line 142 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 142  0000  0700     R  	mov a,_minTime[0]
 142  0001  0080     E  	mov ra,a
 142  0002  0700     R  	mov a,_minTime[1]
 142  0003  0080     E  	mov rb,a
 142  0004  0003        	ret
 142  0005              _ADC_getMinTime endp
 142  0005              #line 142 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 142  0005              #pragma debug scope 1 1
"File: adc.c         Assembler  Version HGASM0202      Page 17

 142  0005              public _ADC_getSignal
 142  0005              #pragma debug scope 14 1
 145  0005              #line 145 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 145  0000              _ADC_getSignal .section 'code'
 145  0000              _ADC_getSignal proc
 146  0000              #line 146 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 146  0000  0700     R  	mov a,_adc_signal[0]
 146  0001  0080     E  	mov ra,a
 147  0002              #line 147 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 147  0002  0700     E  	mov a,ra
 147  0003  0003        	ret
 147  0004              _ADC_getSignal endp
 147  0004              #line 147 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 147  0004              #pragma debug scope 1 1
 147  0004              public _ADC_setSignal
 147  0004              #pragma debug scope 15 1
 150  0004              #line 150 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 150  0000              _ADC_setSignal .section 'code'
 150  0000              _ADC_setSignal proc
 150  0000  00              local _ADC_setSignal_2 db 1 dup(?)	; 0,1
 150  0000  0080     E  	mov ra,a
 150  0001              #pragma debug variable 8 15 _ADC_setSignal_2+0 "signal"
 151  0001              #line 151 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 151  0001  0700     E  	mov a,ra
 151  0002  0080     R  	mov _adc_signal[0],a
 151  0003  0003        	ret
 151  0004              _ADC_setSignal endp
 151  0004              #line 151 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 151  0004              #pragma debug scope 1 1
 151  0004              public _ADC_getCount
 151  0004              #pragma debug scope 16 1
 155  0004              #line 155 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 155  0000              _ADC_getCount .section 'code'
 155  0000              _ADC_getCount proc
 157  0000              #line 157 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 157  0000  0700     R  	mov a,_counter[0]
 157  0001  0080     E  	mov ra,a
 157  0002  0700     R  	mov a,_counter[1]
 157  0003  0080     E  	mov rb,a
 157  0004  0003        	ret
 157  0005              _ADC_getCount endp
 157  0005              #line 157 "E:\1_TOSHIBA\Projects\voltage_stabilizer\PeakDetector_v0.3\adc.c"
 157  0005              #pragma debug scope 1 1
 157  0000              @HCCINIT0	.section	'data'
 157  0000  0002[       _runtime_counter	db 2 dup(0)
            00
            ]
 157  0002              #pragma debug variable 12 1 _runtime_counter "runtime_counter"
 157  0002              
 157  0000              @HCCINIT .section 'data'
 157  0002              @HCCINIT0	.section	'data'
 157  0002              _minFlag	db 0
 157  0003              #pragma debug variable 8 1 _minFlag "minFlag"
 157  0003              
 157  0000              @HCCINIT .section 'data'
 157  0003              @HCCINIT0	.section	'data'
 157  0003              _maxFlag	db 0
 157  0004              #pragma debug variable 8 1 _maxFlag "maxFlag"
 157  0004              
 157  0000              @HCCINIT .section 'data'
"File: adc.c         Assembler  Version HGASM0202      Page 18

 157  0004              @HCCINIT0	.section	'data'
 157  0004  0002[       _minTime	db 2 dup(0)
            00
            ]
 157  0006              #pragma debug variable 12 1 _minTime "minTime"
 157  0006              
 157  0000              @HCCINIT .section 'data'
 157  0006              @HCCINIT0	.section	'data'
 157  0006  0002[       _maxTime	db 2 dup(0)
            00
            ]
 157  0008              #pragma debug variable 12 1 _maxTime "maxTime"
 157  0008              
 157  0000              @HCCINIT .section 'data'
 157  0008              @HCCINIT0	.section	'data'
 157  0008              _initCounter	db 0
 157  0009              #pragma debug variable 8 1 _initCounter "initCounter"
 157  0009              
 157  0000              @HCCINIT .section 'data'
 157  0009              @HCCINIT0	.section	'data'
 157  0009              _adc_signal	db 0
 157  000A              #pragma debug variable 8 1 _adc_signal "adc_signal"
 157  000A              
 157  0000              @HCCINIT .section 'data'
 157  000A              @HCCINIT0	.section	'data'
 157  000A  0004[       _tmp	db 4 dup(0)
            00
            ]
 157  000E              #pragma debug variable 14 1 _tmp "tmp"
 157  000E              
 157  0000              @HCCINIT .section 'data'
 157  000E              @HCCINIT0	.section	'data'
 157  000E  0002[       _counter	db 2 dup(0)
            00
            ]
 157  0010              #pragma debug variable 12 1 _counter "counter"
 157  0010              
 157  0000              @HCCINIT .section 'data'
 157  0010              @HCCINIT0	.section	'data'
 157  0010  0002[       _minAC	db 2 dup(0)
            00
            ]
 157  0012              #pragma debug variable 12 1 _minAC "minAC"
 157  0012              
 157  0000              @HCCINIT .section 'data'
 157  0012              @HCCINIT0	.section	'data'
 157  0012  0002[       _maxAC	db 2 dup(0)
            00
            ]
 157  0014              #pragma debug variable 12 1 _maxAC "maxAC"
 157  0014              
 157  0000              @HCCINIT .section 'data'
 157  0014              @HCCINIT0	.section	'data'
 157  0014  0002[       _ac	db 2 dup(0)
            00
            ]
 157  0016              #pragma debug variable 12 1 _ac "ac"
 157  0016              
 157  0000              @HCCINIT .section 'data'
 157  0016              @HCCINIT0	.section	'data'
"File: adc.c         Assembler  Version HGASM0202      Page 19

 157  0016  0004[       _adc_val0	db 4 dup(0)
            00
            ]
 157  001A              #pragma debug variable 29 1 _adc_val0 "adc_val0"
 157  001A              
 157  0000              @HCCINIT .section 'data'
 157  0000              #pragma debug struct_end
 157  0000              #pragma debug struct_end
 157  0000              #pragma debug union_end
 157  0000              #pragma debug union_end
 157  0000              #pragma debug variable 44 1 ___intc1 "__intc1" 1
 157  0000              #pragma debug variable 8 1 ___sadol "__sadol" 1
 157  0000              #pragma debug variable 8 1 ___sadoh "__sadoh" 1
 157  0000              #pragma debug struct_end
 157  0000              #pragma debug struct_end
 157  0000              #pragma debug union_end
 157  0000              #pragma debug union_end
 157  0000              #pragma debug variable 46 1 ___sadc0 "__sadc0" 1
 157  0000              #pragma debug struct_end
 157  0000              #pragma debug struct_end
 157  0000              #pragma debug union_end
 157  0000              #pragma debug union_end
 157  0000              #pragma debug variable 48 1 ___pb "__pb" 1
 157  0000              #pragma debug struct_end
 157  0000              #pragma debug struct_end
 157  0000              #pragma debug union_end
 157  0000              #pragma debug union_end
 157  0000              #pragma debug variable 50 1 ___pbc "__pbc" 1
 157  0000              #pragma debug struct_end
 157  0000              #pragma debug struct_end
 157  0000              #pragma debug union_end
 157  0000              #pragma debug union_end
 157  0000              #pragma debug variable 52 1 ___pc "__pc" 1
 157  0000              extern _UART_getSignal:near
 157  0000              extern _builtin_holtek_mant1:byte
 157  0000              extern _builtin_holtek_mant12p:byte
 157  0000              extern _builtin_holtek_signs:byte
 157  0000              extern _builtin_holtek_ultof:near
 157  0000              extern _builtin_holtek_uitof:near
 157  0000              extern _builtin_holtek_mant2:byte
 157  0000              extern _builtin_holtek_ftdiv:near
 157  0000              extern _builtin_holtek_dtmul:near
 157  0000              extern _builtin_holtek_dtol:near
 157  0000              extern _itoa_2:byte
 157  0000              extern _itoa:near
 157  0000              extern _builtin_holtek_dtsub:near
 157  0000              extern _builtin_holtek_dtdiv:near
 157  0000              extern _builtin_holtek_dtadd:near
 157  0000              
 157  0000              ; 
 157  0000              ; Generated by holtek-gcc v3.14, Sun May 06 10:06:55 2018
 157  0000              ; Rebuild 10
 157  0000              ; end of file


        0 Errors, 0