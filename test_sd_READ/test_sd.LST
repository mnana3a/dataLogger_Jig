"File: test_sd.c     Assembler  Version HGASM0202      Page 1


   1  0000              ; Generated by holtek-gcc v3.14, Tue Jun 05 09:53:25 2018
   2  0000              ; 
   3  0000              ; Configuration:
   4  0000              ;       without long instruction
   5  0000              ;       Single ROM, Multi-RAM
   6  0000              ;       bits_per_rom_unit:16
   7  0000              ;       with mp1
   8  0000              ;       with tbhp, address(0x9)
   9  0000              ;          Use tabrd-const
  10  0000              ;       
  11  0000              ;       
  12  0000              ;       
  13  0000              ; use 'tabrdc' instead of 'tabrd'
  14  0000              ;       
  15  0000              
  16  0000              #pragma translator "holtek-gcc 4.6.4" "3.14" "build 20130711"
  17  0000              ; Rebuild 10
  18  0000              
  19  0000              ir equ [2]
  20  0000              mp equ [3]
  21  0000              sbp equ [1]
  22  0000              acc equ [5]
  23  0000              bp equ [4]
  24  0000              tblp equ [7]
  25  0000              tbhp equ [9]
  26  0000              status equ [10]
  27  0000              c equ [10].0
  28  0000              ac equ [10].1
  29  0000              z equ [10].2
  30  0000              ov equ [10].3
  31  0000              intc equ [11]
  32  0000              
  33  0000              extern ra:byte
  34  0000              extern rb:byte
  35  0000              extern rc:byte
  36  0000              extern rd:byte
  37  0000              extern re:byte
  38  0000              extern rf:byte
  39  0000              extern rg:byte
  40  0000              extern rh:byte
  41  0000              extern _Crom2Prom:near
  42  0000              extern _Crom2PromNext:near
  43  0000              
  44  0000              RAMBANK 0 @HCCINIT, @HCCINIT0
  45  0000              
  46  0000              RAMBANK 0 @BITDATASEC, @BITDATASEC1
  47  0000              @HCCINIT	.section 'data'
  48  0000              @HCCINIT0	.section 'data'
  49  0000              @BITDATASEC	 .section 'data'
  50  0000              @BITDATASEC1	 .section 'data'
  51  0000              
  52  0000              #pragma debug scope 1 1
  53  0000              	extern __DELAY3:near
  54  0000              	extern __DELAYX3:near
  55  0000              	extern __DELAYX6:near
  56  0000              	extern __DELAYY5:near
  57  0000              	extern __DELAYY3:near
  58  0000              	extern _builtin_holtek_delay_2:byte
  59  0000              ___wdtc equ [26]
"File: test_sd.ASM   Assembler  Version HGASM0202      Page 2

  60  0000              ___cpc equ [63]
  61  0000              ___pa equ [20]
  62  0000              ___pb equ [37]
  63  0000              ___pc equ [65]
  64  0000              ___pd equ [82]
  65  0000              ___pac equ [21]
  66  0000              ___pbc equ [38]
  67  0000              ___pcc equ [66]
  68  0000              ___pdc equ [83]
  69  0000              ___pawu equ [23]
  70  0000              ___papu equ [22]
  71  0000              ___pbpu equ [39]
  72  0000              ___pcpu equ [67]
  73  0000              ___pdpu equ [84]
  74  0000              @crom	.section 'crom'
  75  0000              _LC0:
  76  0000              	db 045h,052h,052h,04fh,052h,0ah,0dh,00h
  77  0004              _LC1:
  78  0004              	db 0ah,0dh,068h,065h,06ch,06ch,06fh,0ah,0dh,00h
  79  0009              _LC2:
  80  0009              	db 0ah,0dh,045h,052h,052h,04fh,052h,0ah,0dh,00h
  81  000E              _LC3:
  82  000E              	db 02eh,00h
  83  000F              public _main
  84  000F              #pragma debug scope 2 1

  12  000F              #line 12 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\test_sd.c"
  12  000F              IFDEF WITH_DEFAULT_STARTUP
  12  000F              extern _main_initial0:near
  12  000F              extern _main_startup:near
  12  000F              ENDIF
  12  000F              
  12  000F              ROMBANK 0 @start
  12  0000              @start .section com_l 'code'
  12  0000              _main_startup1:
  12  0000              @start .section com_e 'code'
  12  0000  2800     R  	jmp _main
  12  0001              
  12  0000              _main .section 'code'
  12  0000              _main proc
  12  0000  0004[           local _main_2 db 4 dup(?)
            00
            ]
  12  0004              #pragma debug variable 14 2 _main_2+0 "j"
  17  0004              #line 17 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\test_sd.c"
  17  0000  0FA8        	mov a,168
  17  0001  009A        	mov [26],a
  17  0002  0F08        	mov a,8
  17  0003  00BF        	mov [63],a
  17  0004  1F14        	clr [20]
  17  0005  1F25        	clr [37]
  17  0006  1F41        	clr [65]
  17  0007  1F52        	clr [82]
  17  0008  1F95        	set [21]
  17  0009  1FA6        	set [38]
  17  000A  1FC2        	set [66]
  17  000B  1FD3        	set [83]
  17  000C  1F17        	clr [23]
  17  000D  1F16        	clr [22]
  17  000E  1F27        	clr [39]
"File: test_sd.c     Assembler  Version HGASM0202      Page 3

  17  000F  1F43        	clr [67]
  17  0010  1F54        	clr [84]
  19  0011              #line 19 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\test_sd.c"
  19  0011  2000     E  	call _UART_init
  20  0012              #line 20 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\test_sd.c"
  20  0012  2000     E  	call _SD_init
  20  0013  0080     R  	mov _main_2[0],a
  21  0014              #line 21 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\test_sd.c"
  21  0014  1080     R  	sz _main_2[0]
  21  0015  2800     R  	jmp _LI1
  21  0016  2800     R  	jmp _L9
  21  0017              _LI1:
  21  0017              #line 21 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\test_sd.c"
  21  0017  1F00     E  	clr ra
  21  0018              _L3:
  21  0018              #pragma debug scope 3 2
  21  0018              ;begin block, line: 21.-1
  21  0018  0F00     R  	mov a,low offset _LC0
  21  0019  0300     E  	add a,ra
  21  001A  0083        	mov mp,a
  21  001B  0F00     R  	mov a,high offset _LC0
  21  001C  1F01        	clr sbp
  21  001D  1381        	adcm a,sbp
  21  001E  2000     E  	call _Crom2Prom
  21  001F  0080     E  	mov rb,a
  21  0020  1080     E  	sz rb
  21  0021  2800     R  	jmp _LI2
  21  0022  2800     R  	jmp _L8
  21  0023              _LI2:
  21  0023              _L5:
  21  0023  3855        	snz [85].0
  21  0024  2800     R  	jmp _L5
  21  0025  0700     E  	mov a,rb
  21  0026  00D9        	mov [89],a
  21  0027  1480     E  	inc ra
  21  0028  2800     R  	jmp _L3
  21  0029              _L8:
  21  0029  3855        	snz [85].0
  21  002A  2800     R  	jmp _L8
  21  002B  1F59        	clr [89]
  21  002C  2800     R  	jmp _L9
  21  002D              _L10:
  21  002D              #pragma debug scope 2 1
  22  002D              #line 22 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\test_sd.c"
  22  002D  3855        	snz [85].0
  22  002E  2800     R  	jmp _L10
  22  002F  0F2E        	mov a,46
  22  0030  00D9        	mov [89],a
  22  0031  2000     E  	call _delay_100us
  22  0032  2000     E  	call _SD_init
  22  0033  0080     R  	mov _main_2[0],a
  22  0034              _L9:
  22  0034  0700     R  	mov a,_main_2[0]
  22  0035  0A01        	sub a,1
  22  0036  3D0A        	sz z
  22  0037  2800     R  	jmp _L10
  22  0038  0AFE        	sub a,(255)-(1)
  22  0039  3D0A        	sz z
  22  003A  2800     R  	jmp _L10
  23  003B              #line 23 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\test_sd.c"
"File: test_sd.c     Assembler  Version HGASM0202      Page 4

  23  003B  1F00     R  	clr _c[0]
  23  003C  1F00     R  	clr _c[1]
  23  003D  1F00     R  	clr _c[2]
  23  003E  1F00     R  	clr _c[3]
  23  003F  1F00     R  	clr _c[4]
  23  0040  1F00     E  	clr ra
  23  0041              _L15:
  23  0041              #pragma debug scope 4 2
  23  0041              ;begin block, line: 23.-1
  26  0041              #line 26 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\test_sd.c"
  26  0041  0F00     R  	mov a,low offset _LC1
  26  0042  0300     E  	add a,ra
  26  0043  0083        	mov mp,a
  26  0044  0F00     R  	mov a,high offset _LC1
  26  0045  1F01        	clr sbp
  26  0046  1381        	adcm a,sbp
  26  0047  2000     E  	call _Crom2Prom
  26  0048  0080     E  	mov rb,a
  26  0049  1080     E  	sz rb
  26  004A  2800     R  	jmp _LI3
  26  004B  2800     R  	jmp _L20
  26  004C              _LI3:
  26  004C              _L17:
  26  004C  3855        	snz [85].0
  26  004D  2800     R  	jmp _L17
  26  004E  0700     E  	mov a,rb
  26  004F  00D9        	mov [89],a
  26  0050  1480     E  	inc ra
  26  0051  2800     R  	jmp _L15
  26  0052              _L20:
  26  0052  3855        	snz [85].0
  26  0053  2800     R  	jmp _L20
  26  0054  1F59        	clr [89]
  26  0055              #pragma debug scope 2 1
  15  0055              #line 15 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\test_sd.c"
  15  0055  1F00     R  	clr _main_2[0]
  15  0056  0F02        	mov a,2
  15  0057  0080     R  	mov _main_2[1],a
  15  0058  0F14        	mov a,20
  15  0059  0080     R  	mov _main_2[2],a
  15  005A  1F00     R  	clr _main_2[3]
  25  005B              #line 25 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\test_sd.c"
  25  005B  1F00     E  	clr rb
  25  005C              _L21:
  31  005C              #line 31 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\test_sd.c"
  31  005C  1080     E  	sz rb
  31  005D  2800     R  	jmp _LI4
  31  005E  2800     R  	jmp _L22
  31  005F              _LI4:
  31  005F  1F00     E  	clr ra
  31  0060  2800     R  	jmp _L23
  31  0061              _L38:
  31  0061              #pragma debug scope 5 2
  31  0061              ;begin block, line: 31.-1
  46  0061              #line 46 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\test_sd.c"
  46  0061  3855        	snz [85].0
  46  0062  2800     R  	jmp _L38
  46  0063  0700     E  	mov a,rb
  46  0064  00D9        	mov [89],a
  46  0065  1480     E  	inc ra
"File: test_sd.c     Assembler  Version HGASM0202      Page 5

  46  0066              _L36:
  46  0066  0F00     R  	mov a,low offset _LC3
  46  0067  0300     E  	add a,ra
  46  0068  0083        	mov mp,a
  46  0069  0F00     R  	mov a,high offset _LC3
  46  006A  1F01        	clr sbp
  46  006B  1381        	adcm a,sbp
  46  006C  2000     E  	call _Crom2Prom
  46  006D  0080     E  	mov rb,a
  46  006E  1080     E  	sz rb
  46  006F  2800     R  	jmp _L38
  46  0070              _L41:
  46  0070  3855        	snz [85].0
  46  0071  2800     R  	jmp _L41
  46  0072  1F59        	clr [89]
  46  0073              #pragma debug scope 2 1
  47  0073              #line 47 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\test_sd.c"
  47  0073  2000     E  	call _delay_100us
  48  0074              #line 48 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\test_sd.c"
  48  0074  2000     E  	call _SD_init
  48  0075  0080     E  	mov ra,a
  49  0076              #line 49 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\test_sd.c"
  49  0076  1080     E  	sz ra
  49  0077  2800     R  	jmp _L43
  49  0078              _L22:
  34  0078              #line 34 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\test_sd.c"
  34  0078  0700     R  	mov a,_main_2[0]
  34  0079  0080     E  	mov _SD_seek_2[0],a
  34  007A  0700     R  	mov a,_main_2[1]
  34  007B  0080     E  	mov _SD_seek_2[1],a
  34  007C  0700     R  	mov a,_main_2[2]
  34  007D  0080     E  	mov _SD_seek_2[2],a
  34  007E  0700     R  	mov a,_main_2[3]
  34  007F  0080     E  	mov _SD_seek_2[3],a
  34  0080  2000     E  	call _SD_seek
  35  0081              #line 35 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\test_sd.c"
  35  0081  0F05        	mov a,5
  35  0082  0080     E  	mov _SD_get_2[2],a
  35  0083  0F00     R  	mov a,low offset _c
  35  0084  0080     E  	mov _SD_get_2[0],a
  35  0085  0F00     R  	mov a,high offset _c
  35  0086  0080     E  	mov _SD_get_2[1],a
  35  0087  2000     E  	call _SD_get
  35  0088  0080     E  	mov rb,a
  36  0089              #line 36 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\test_sd.c"
  36  0089  0F05        	mov a,5
  36  008A  0380     R  	addm a,_main_2[0]
  36  008B  0F00        	mov a,0
  36  008C  1380     R  	adcm a,_main_2[1]
  36  008D  1380     R  	adcm a,_main_2[2]
  36  008E  1380     R  	adcm a,_main_2[3]
  36  008F              #pragma debug scope 6 2
  36  008F              ;begin block, line: 36.-1
  38  008F              #line 38 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\test_sd.c"
  38  008F  1F00     E  	clr ra
  38  0090              _L24:
  38  0090  0F00     R  	mov a,low offset _c
  38  0091  0300     E  	add a,ra
  38  0092  0083        	mov mp,a
  38  0093  0F00     R  	mov a,high offset _c
"File: test_sd.c     Assembler  Version HGASM0202      Page 6

  38  0094  1F01        	clr sbp
  38  0095  1381        	adcm a,sbp
  38  0096  2000     E  	call _Crom2Prom
  38  0097  0080     E  	mov rc,a
  38  0098  1080     E  	sz rc
  38  0099  2800     R  	jmp _LI5
  38  009A  2800     R  	jmp _L29
  38  009B              _LI5:
  38  009B              _L26:
  38  009B  3855        	snz [85].0
  38  009C  2800     R  	jmp _L26
  38  009D  0700     E  	mov a,rc
  38  009E  00D9        	mov [89],a
  38  009F  1480     E  	inc ra
  38  00A0  2800     R  	jmp _L24
  38  00A1              _L29:
  38  00A1  3855        	snz [85].0
  38  00A2  2800     R  	jmp _L29
  38  00A3  1F59        	clr [89]
  38  00A4              #pragma debug scope 2 1
  38  00A4  2800     R  	jmp _L21
  38  00A5              _L32:
  38  00A5              #pragma debug scope 7 2
  38  00A5              ;begin block, line: 38.-1
  43  00A5              #line 43 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\test_sd.c"
  43  00A5  3855        	snz [85].0
  43  00A6  2800     R  	jmp _L32
  43  00A7  0700     E  	mov a,rb
  43  00A8  00D9        	mov [89],a
  43  00A9  1480     E  	inc ra
  43  00AA              _L23:
  43  00AA  0F00     R  	mov a,low offset _LC2
  43  00AB  0300     E  	add a,ra
  43  00AC  0083        	mov mp,a
  43  00AD  0F00     R  	mov a,high offset _LC2
  43  00AE  1F01        	clr sbp
  43  00AF  1381        	adcm a,sbp
  43  00B0  2000     E  	call _Crom2Prom
  43  00B1  0080     E  	mov rb,a
  43  00B2  1080     E  	sz rb
  43  00B3  2800     R  	jmp _L32
  43  00B4              _L35:
  43  00B4  3855        	snz [85].0
  43  00B5  2800     R  	jmp _L35
  43  00B6  1F59        	clr [89]
  43  00B7              _L43:
  43  00B7              #pragma debug scope 2 1
  43  00B7              #pragma debug scope 8 2
  43  00B7              ;begin block, line: 43.-1
  46  00B7              #line 46 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\test_sd.c"
  46  00B7  1F00     E  	clr ra
  46  00B8  2800     R  	jmp _L36
  46  00B9              #pragma debug scope 2 1
  46  00B9  2800     R  	jmp $
  46  00BA              _main endp
  46  00BA              
  46  00BA              @dummy endp
  46  00BA              
  46  00BA              #line 46 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\test_sd.c"
  46  00BA              #pragma debug scope 1 1
"File: test_sd.c     Assembler  Version HGASM0202      Page 7

   9  00BA              #line 9 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\test_sd.c"
   9  00BA              public _c
   9  0000              @HCCINIT0 .section 'data'
   9  0000  0005[       _c	db 5 dup(0)
            00
            ]
   9  0005              #pragma debug array 42 8 5 1
   9  0005              #pragma debug array 42 8 5 1
   9  0005              #pragma debug variable 42 1 _c "c"
   9  0005              
   9  0000              @HCCINIT .section 'data'
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug union_end
   9  0000              #pragma debug union_end
   9  0000              #pragma debug variable 44 1 ___pa "__pa" 1
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug union_end
   9  0000              #pragma debug union_end
   9  0000              #pragma debug variable 46 1 ___pac "__pac" 1
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug union_end
   9  0000              #pragma debug union_end
   9  0000              #pragma debug variable 48 1 ___papu "__papu" 1
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug union_end
   9  0000              #pragma debug union_end
   9  0000              #pragma debug variable 50 1 ___pawu "__pawu" 1
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug union_end
   9  0000              #pragma debug union_end
   9  0000              #pragma debug variable 52 1 ___wdtc "__wdtc" 1
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug union_end
   9  0000              #pragma debug union_end
   9  0000              #pragma debug variable 54 1 ___pb "__pb" 1
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug union_end
   9  0000              #pragma debug union_end
   9  0000              #pragma debug variable 56 1 ___pbc "__pbc" 1
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug union_end
   9  0000              #pragma debug union_end
   9  0000              #pragma debug variable 58 1 ___pbpu "__pbpu" 1
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug union_end
   9  0000              #pragma debug union_end
   9  0000              #pragma debug variable 60 1 ___cpc "__cpc" 1
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug union_end
   9  0000              #pragma debug union_end
"File: test_sd.c     Assembler  Version HGASM0202      Page 8

   9  0000              #pragma debug variable 62 1 ___pc "__pc" 1
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug union_end
   9  0000              #pragma debug union_end
   9  0000              #pragma debug variable 64 1 ___pcc "__pcc" 1
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug union_end
   9  0000              #pragma debug union_end
   9  0000              #pragma debug variable 66 1 ___pcpu "__pcpu" 1
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug union_end
   9  0000              #pragma debug union_end
   9  0000              #pragma debug variable 68 1 ___pd "__pd" 1
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug union_end
   9  0000              #pragma debug union_end
   9  0000              #pragma debug variable 70 1 ___pdc "__pdc" 1
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug struct_end
   9  0000              #pragma debug union_end
   9  0000              #pragma debug union_end
   9  0000              #pragma debug variable 72 1 ___pdpu "__pdpu" 1
  12  0000              #line 12 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\test_sd.c"
  12  0000              @code .section at 0 'code'
  12  0000  2800     R  	jmp _main_startup1
  12  0001              
  12  0001              extern _UART_init:near
  12  0001              extern _SD_init:near
  12  0001              extern _delay_100us:near
  12  0001              extern _SD_seek_2:byte
  12  0001              extern _SD_seek:near
  12  0001              extern _SD_get_2:byte
  12  0001              extern _SD_get:near
  12  0001              
  12  0001              ; 
  12  0001              ; Generated by holtek-gcc v3.14, Tue Jun 05 09:53:25 2018
  12  0001              ; Rebuild 10
  12  0001              ; end of file


        0 Errors, 0