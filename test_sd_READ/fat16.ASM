; Generated by holtek-gcc v3.14, Tue Jun 05 09:53:31 2018
; 
; Configuration:
;       without long instruction
;       Single ROM, Multi-RAM
;       bits_per_rom_unit:16
;       with mp1
;       with tbhp, address(0x9)
;          Use tabrd-const
;       
;       
;       
; use 'tabrdc' instead of 'tabrd'
;       

#pragma translator "holtek-gcc 4.6.4" "3.14" "build 20130711"
; Rebuild 10

ir equ [2]
mp equ [3]
sbp equ [1]
acc equ [5]
bp equ [4]
tblp equ [7]
tbhp equ [9]
status equ [10]
c equ [10].0
ac equ [10].1
z equ [10].2
ov equ [10].3
intc equ [11]

extern ra:byte
extern rb:byte
extern rc:byte
extern rd:byte
extern re:byte
extern rf:byte
extern rg:byte
extern rh:byte
extern _Crom2Prom:near
extern _Crom2PromNext:near

RAMBANK 0 @HCCINIT, @HCCINIT0

RAMBANK 0 @BITDATASEC, @BITDATASEC1
@HCCINIT	.section 'data'
@HCCINIT0	.section 'data'
@BITDATASEC	 .section 'data'
@BITDATASEC1	 .section 'data'

#pragma debug scope 1 1
	extern __DELAY3:near
	extern __DELAYX3:near
	extern __DELAYX6:near
	extern __DELAYY5:near
	extern __DELAYY3:near
	extern _builtin_holtek_delay_2:byte
public _FAT16_seek
#pragma debug scope 2 1
#line 32 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
_FAT16_seek .section 'code'
_FAT16_seek proc
public _FAT16_seek_2
    local _FAT16_seek_2 db 4 dup(?)	; 4,0
#pragma debug variable 14 2 _FAT16_seek_2+0 "offset"
#line 34 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,_FAT16_seek_2[0]
	mov _SD_seek_2[0],a
	mov a,_FAT16_seek_2[1]
	mov _SD_seek_2[1],a
	mov a,_FAT16_seek_2[2]
	mov _SD_seek_2[2],a
	mov a,_FAT16_seek_2[3]
	mov _SD_seek_2[3],a
	call _SD_seek
	ret
_FAT16_seek endp
#line 34 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
#pragma debug scope 1 1
public _FAT16_read
#pragma debug scope 3 1
#line 38 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
_FAT16_read .section 'code'
_FAT16_read proc
public _FAT16_read_2
    local _FAT16_read_2 db 3 dup(?)	; 3,0
#pragma debug pointer 42 8 3
#pragma debug variable 42 3 _FAT16_read_2+0 "ptr"
#pragma debug variable 8 3 _FAT16_read_2+2 "bytes"
#line 40 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,_FAT16_read_2[2]
	mov _SD_get_2[2],a
	mov a,_FAT16_read_2[0]
	mov _SD_get_2[0],a
	mov a,_FAT16_read_2[1]
	mov _SD_get_2[1],a
	call _SD_get
	mov ra,a
#line 41 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,ra
	ret
_FAT16_read endp
#line 41 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
#pragma debug scope 1 1
public _FAT16_write
#pragma debug scope 4 1
#line 44 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
_FAT16_write .section 'code'
_FAT16_write proc
    local _FAT16_write_2 db 1 dup(?)	; 0,1
#pragma debug variable 8 4 _FAT16_write_2+0 "bytes"
#line 46 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,ra
	ret
_FAT16_write endp
#line 46 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
#pragma debug scope 1 1
@crom	.section 'crom'
_LC0:
	db 0ah,0dh,00h
public _FAT16_init
#pragma debug scope 5 1
#line 57 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
_FAT16_init .section 'code'
_FAT16_init proc
    local _FAT16_init_2 db 5 dup(?)	; 0,5
#line 59 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	clr _file_data_addr[0]
	clr _file_data_addr[1]
	clr _file_data_addr[2]
	clr _file_data_addr[3]
#line 61 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,-66
	mov _FAT16_seek_2[0],a
	mov a,1
	mov _FAT16_seek_2[1],a
	clr _FAT16_seek_2[2]
	clr _FAT16_seek_2[3]
	call _FAT16_seek
	mov a,4
	mov _FAT16_init_2[0],a
_L19:
#line 65 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,16
	mov _FAT16_read_2[2],a
	mov a,low offset _fat16_buffer
	mov _FAT16_read_2[0],a
	mov a,high offset _fat16_buffer
	mov _FAT16_read_2[1],a
	call _FAT16_read
	mov ra,a
#line 67 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,low offset _c
	mov _itoa_2[2],a
	mov a,high offset _c
	mov _itoa_2[3],a
	mov a,ra
	mov _itoa_2[0],a
	clr _itoa_2[1]
	sz acc.7
	set _itoa_2[1]
	call _itoa
#pragma debug scope 6 5
;begin block, line: 67.-1
#line 68 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	clr ra
_L5:
	mov a,low offset _c
	add a,ra
	mov mp,a
	mov a,high offset _c
	clr sbp
	adcm a,sbp
	call _Crom2Prom
	mov rb,a
	sz rb
	jmp _LI1
	jmp _L10
_LI1:
_L7:
	snz [85].0
	jmp _L7
	mov a,rb
	mov [89],a
	inc ra
	jmp _L5
_L10:
	snz [85].0
	jmp _L10
	clr [89]
#pragma debug scope 5 1
#pragma debug scope 7 5
;begin block, line: 68.-1
#line 69 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	clr ra
_L11:
	mov a,low offset _LC0
	add a,ra
	mov mp,a
	mov a,high offset _LC0
	clr sbp
	adcm a,sbp
	call _Crom2Prom
	mov rb,a
	sz rb
	jmp _LI2
	jmp _L16
_LI2:
_L13:
	snz [85].0
	jmp _L13
	mov a,rb
	mov [89],a
	inc ra
	jmp _L11
_L16:
	snz [85].0
	jmp _L16
	clr [89]
#pragma debug scope 5 1
#line 71 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,_fat16_buffer[4]
	mov ra,a
	mov a,ra
	mov rb,a
	clr rb.1
	mov a,rb
	sub a,4
	sz z
	jmp _L17
	mov a,ra
	sub a,14
	sz z
	jmp _L17
	sdz _FAT16_init_2[0]
	jmp _L19
#line 77 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	set ra
	jmp _L29
_L17:
#line 79 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,_fat16_buffer[8]
	mov rd,a
	mov a,_fat16_buffer[9]
	mov re,a
	mov a,_fat16_buffer[10]
	mov rf,a
	mov a,_fat16_buffer[11]
	mov rg,a
	mov a,9
_LI3:
	clr c
	rlc rd
	rlc re
	rlc rf
	rlc rg
	sdz acc
	jmp _LI3
	mov a,rd
	mov _fat16_state[1],a
	mov a,re
	mov _fat16_state[2],a
	mov a,rf
	mov _fat16_state[3],a
	mov a,rg
	mov _fat16_state[4],a
#line 81 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,11
	add a,rd
	mov _FAT16_seek_2[0],a
	mov a,0
	adc a,re
	mov _FAT16_seek_2[1],a
	mov a,0
	adc a,rf
	mov _FAT16_seek_2[2],a
	mov a,0
	adc a,rg
	mov _FAT16_seek_2[3],a
	call _FAT16_seek
#line 82 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,25
	mov _FAT16_read_2[2],a
	mov a,low offset _fat16_buffer
	mov _FAT16_read_2[0],a
	mov a,high offset _fat16_buffer
	mov _FAT16_read_2[1],a
	call _FAT16_read
#line 84 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,_fat16_buffer[1]
	xor a,2
	or a,_fat16_buffer[0]
	snz z
	jmp _L32
#line 88 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,_fat16_buffer[5]
	mov rh,a
	mov a,rh
	mov _fat16_state[0],a
#line 89 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	clr c
	rlca _fat16_buffer[3]
	mov rg,a
	clr rf
	mov a,_fat16_state[1]
	mov ra,a
	mov a,_fat16_state[2]
	mov rb,a
	mov a,_fat16_state[3]
	mov rc,a
	mov a,_fat16_state[4]
	mov rd,a
	mov a,rf
	addm a,ra
	mov a,rg
	adcm a,rb
	clr acc
	adcm a,rc
	adcm a,rd
	mov a,ra
	mov _FAT16_init_2[1],a
	mov a,rb
	mov _FAT16_init_2[2],a
	mov a,rc
	mov _FAT16_init_2[3],a
	mov a,rd
	mov _FAT16_init_2[4],a
	mov a,ra
	mov _fat16_state[1],a
	mov a,rb
	mov _fat16_state[2],a
	mov a,rc
	mov _fat16_state[3],a
	mov a,rd
	mov _fat16_state[4],a
#line 90 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	clr c
	rlca _fat16_buffer[11]
	mov rc,a
	clr rb
	mov a,_FAT16_init_2[1]
	mov rd,a
	mov a,_FAT16_init_2[2]
	mov re,a
	mov a,_FAT16_init_2[3]
	mov rf,a
	mov a,_FAT16_init_2[4]
	mov rg,a
	mov a,rb
	addm a,rd
	mov a,rc
	adcm a,re
	clr acc
	adcm a,rf
	adcm a,rg
	mov a,rd
	mov _fat16_state[5],a
	mov a,re
	mov _fat16_state[6],a
	mov a,rf
	mov _fat16_state[7],a
	mov a,rg
	mov _fat16_state[8],a
#line 92 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,rh
	mov _builtin_holtek_mulhi3_2[0],a
	clr _builtin_holtek_mulhi3_2[1]
	mov a,rb
	mov _builtin_holtek_mulhi3_2[2],a
	mov a,rc
	mov _builtin_holtek_mulhi3_2[3],a
	call _builtin_holtek_mulhi3
	mov a,_builtin_holtek_mulhi3_2[4]  
	mov rb,a  
	mov a,_builtin_holtek_mulhi3_2[5]  
	mov rc,a
	mov a,_FAT16_init_2[1]
	mov rd,a
	mov a,_FAT16_init_2[2]
	mov re,a
	mov a,_FAT16_init_2[3]
	mov rf,a
	mov a,_FAT16_init_2[4]
	mov rg,a
	mov a,rb
	addm a,rd
	mov a,rc
	adcm a,re
	clr acc
	adcm a,rf
	adcm a,rg
	mov a,rd
	mov _FAT16_seek_2[0],a
	mov a,re
	mov _FAT16_seek_2[1],a
	mov a,rf
	mov _FAT16_seek_2[2],a
	mov a,rg
	mov _FAT16_seek_2[3],a
	mov a,rd
	mov _fat16_state[9],a
	mov a,re
	mov _fat16_state[10],a
	mov a,rf
	mov _fat16_state[11],a
	mov a,rg
	mov _fat16_state[12],a
#line 94 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,_fat16_buffer[6]
	mov rb,a
	mov a,_fat16_buffer[7]
	mov rc,a
	mov a,5
_LI4:
	clr c
	rlc rb
	rlc rc
	sdz acc
	jmp _LI4
	mov a,rb
	addm a,rd
	mov a,rc
	adcm a,re
	clr acc
	adcm a,rf
	adcm a,rg
	mov a,rd
	mov _fat16_state[13],a
	mov a,re
	mov _fat16_state[14],a
	mov a,rf
	mov _fat16_state[15],a
	mov a,rg
	mov _fat16_state[16],a
#line 96 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,_fat16_buffer[2]
	mov _fat16_state[17],a
#line 104 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	clr _fat16_state[24]
	clr _fat16_state[25]
	clr _fat16_state[26]
	clr _fat16_state[27]
#line 105 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	set _fat16_state[20]
	set _fat16_state[21]
	set _fat16_state[22]
	set _fat16_state[23]
#line 107 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	call _FAT16_seek
#line 109 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	clr ra
	jmp _L29
_L32:
#line 85 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,254
	mov ra,a
_L29:
#line 110 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,ra
	ret
_FAT16_init endp
#line 110 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
#pragma debug scope 1 1
public _FAT16_read_file
#pragma debug scope 8 1
#line 165 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
_FAT16_read_file .section 'code'
_FAT16_read_file proc
    local _FAT16_read_file_2 db 5 dup(?)	; 0,5
	mov _FAT16_read_file_2[0],a
#pragma debug variable 7 8 _FAT16_read_file_2+0 "bytes"
#line 169 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,_fat16_state[24]
	or a,_fat16_state[25]
	or a,_fat16_state[26]
	or a,_fat16_state[27]
	sz z
	jmp _L39
#line 172 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,_fat16_state[20]
	or a,_fat16_state[21]
	or a,_fat16_state[22]
	or a,_fat16_state[23]
	snz z
	jmp _L35
#line 175 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,_fat16_state[18]
	mov rd,a
	mov a,_fat16_state[19]
	mov re,a
	clr rf
	clr rg
	mov a,rd
	addm a,rd
	mov a,re
	adcm a,re
	mov a,rf
	adcm a,rf
	mov a,rg
	adcm a,rg
	mov a,_fat16_state[1]
	add a,rd
	mov _FAT16_seek_2[0],a
	mov a,_fat16_state[2]
	adc a,re
	mov _FAT16_seek_2[1],a
	mov a,_fat16_state[3]
	adc a,rf
	mov _FAT16_seek_2[2],a
	mov a,_fat16_state[4]
	adc a,rg
	mov _FAT16_seek_2[3],a
	call _FAT16_seek
#line 176 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,2
	mov _FAT16_read_2[2],a
	mov a,low offset _fat16_buffer
	mov _FAT16_read_2[0],a
	mov a,high offset _fat16_buffer
	mov _FAT16_read_2[1],a
	call _FAT16_read
#line 178 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,_fat16_buffer[0]
	mov rb,a
	mov a,_fat16_buffer[1]
	mov rc,a
	mov a,rb
	mov _fat16_state[18],a
	mov a,rc
	mov _fat16_state[19],a
#line 179 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,_fat16_state[17]
	mov ra,a
	mov a,ra
	add a,ra
	mov re,a
	clr rd
	mov a,rd
	mov _fat16_state[20],a
	mov a,re
	mov _fat16_state[21],a
	clr acc
	sz _fat16_state[21].7
	set acc
	mov _fat16_state[22],a
	mov _fat16_state[23],a
#line 181 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,rb
	and a,rc
	add a,1
	snz c
	jmp _L36
#line 184 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	clr _fat16_state[24]
	clr _fat16_state[25]
	clr _fat16_state[26]
	clr _fat16_state[27]
	jmp _L39
_L36:
#line 190 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,126
	addm a,rb
	mov a,0
	adcm a,rc
	mov a,ra
	mov _builtin_holtek_mulhi3_2[0],a
	clr _builtin_holtek_mulhi3_2[1]
	mov a,rb
	mov _builtin_holtek_mulhi3_2[2],a
	mov a,rc
	mov _builtin_holtek_mulhi3_2[3],a
	call _builtin_holtek_mulhi3
	mov a,_builtin_holtek_mulhi3_2[4]  
	mov rb,a  
	mov a,_builtin_holtek_mulhi3_2[5]  
	mov rc,a
	clr c
	rlca rb
	mov rc,a
	clr rb
#line 189 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,_fat16_state[13]
	mov rd,a
	mov a,_fat16_state[14]
	mov re,a
	mov a,_fat16_state[15]
	mov rf,a
	mov a,_fat16_state[16]
	mov rg,a
	mov a,rb
	addm a,rd
	mov a,rc
	adcm a,re
	clr acc
	adcm a,rf
	adcm a,rg
	mov a,rd
	mov _FAT16_seek_2[0],a
	mov a,re
	mov _FAT16_seek_2[1],a
	mov a,rf
	mov _FAT16_seek_2[2],a
	mov a,rg
	mov _FAT16_seek_2[3],a
	call _FAT16_seek
_L35:
#line 194 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,_fat16_state[24]
	mov rd,a
	mov a,_fat16_state[25]
	mov re,a
	mov a,_fat16_state[26]
	mov rf,a
	mov a,_fat16_state[27]
	mov rg,a
	mov a,_FAT16_read_file_2[0]
	mov _FAT16_read_file_2[1],a
	and a,80h
	sz acc.7
	set acc
	mov _FAT16_read_file_2[2],a
	mov _FAT16_read_file_2[3],a
	mov _FAT16_read_file_2[4],a
	mov a,rd
	sub a,_FAT16_read_file_2[1]
	mov a,re
	sbc a,_FAT16_read_file_2[2]
	mov a,rf
	sbc a,_FAT16_read_file_2[3]
	mov a,rg
	sbc a,_FAT16_read_file_2[4]
	sz c
	jmp _L37
#line 195 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,rd
	mov _FAT16_read_file_2[0],a
_L37:
#line 196 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,_fat16_state[20]
	mov rd,a
	mov a,_fat16_state[21]
	mov re,a
	mov a,_fat16_state[22]
	mov rf,a
	mov a,_fat16_state[23]
	mov rg,a
	mov a,_FAT16_read_file_2[0]
	mov _FAT16_read_file_2[1],a
	and a,80h
	sz acc.7
	set acc
	mov _FAT16_read_file_2[2],a
	mov _FAT16_read_file_2[3],a
	mov _FAT16_read_file_2[4],a
	mov a,rd
	sub a,_FAT16_read_file_2[1]
	mov a,re
	sbc a,_FAT16_read_file_2[2]
	mov a,rf
	sbc a,_FAT16_read_file_2[3]
	mov a,rg
	sbc a,_FAT16_read_file_2[4]
	sz c
	jmp _L38
#line 197 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,rd
	mov _FAT16_read_file_2[0],a
_L38:
#line 199 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,_FAT16_read_file_2[0]
	mov _FAT16_read_2[2],a
	mov a,low offset _fat16_buffer
	mov _FAT16_read_2[0],a
	mov a,high offset _fat16_buffer
	mov _FAT16_read_2[1],a
	call _FAT16_read
	mov ra,a
#line 201 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,ra
	mov rd,a
	and a,80h
	sz acc.7
	set acc
	mov re,a
	mov rf,a
	mov rg,a
	mov a,_fat16_state[24]
	sub a,rd
	mov _fat16_state[24],a
	mov a,_fat16_state[25]
	sbc a,re
	mov _fat16_state[25],a
	mov a,_fat16_state[26]
	sbc a,rf
	mov _fat16_state[26],a
	mov a,_fat16_state[27]
	sbc a,rg
	mov _fat16_state[27],a
#line 202 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,_fat16_state[20]
	sub a,rd
	mov _fat16_state[20],a
	mov a,_fat16_state[21]
	sbc a,re
	mov _fat16_state[21],a
	mov a,_fat16_state[22]
	sbc a,rf
	mov _fat16_state[22],a
	mov a,_fat16_state[23]
	sbc a,rg
	mov _fat16_state[23],a
#line 204 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	jmp _L34
_L39:
#line 170 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	clr ra
_L34:
#line 205 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,ra
	ret
_FAT16_read_file endp
#line 205 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
#pragma debug scope 1 1
public _FAT16_open_file
#pragma debug scope 9 1
#line 121 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
_FAT16_open_file .section 'code'
_FAT16_open_file proc
public _FAT16_open_file_2
    local _FAT16_open_file_2 db 4 dup(?)	; 4,0
#pragma debug pointer 43 7 9
#pragma debug variable 43 9 _FAT16_open_file_2+0 "filename"
#pragma debug variable 43 9 _FAT16_open_file_2+2 "ext"
_L48:
#line 125 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,32
	call _FAT16_read_file
	mov ra,a
#line 127 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,31
	sub a,ra
	swap acc
	xor a,status
	snz acc.3
	jmp _L52
#line 127 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,8
	mov ra,a
	clr rf
_L44:
#line 131 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,rf
	mov rb,a
	clr rc
	sz acc.7
	set rc
	mov a,low offset _fat16_buffer
	add a,rb
	mov mp,a
	mov a,high offset _fat16_buffer
	adc a,rc
	mov sbp,a
	call _Crom2Prom
	mov rd,a
	clr re
	mov a,rb
	add a,_FAT16_open_file_2[0]
	mov mp,a
	mov a,rc
	adc a,_FAT16_open_file_2[1]
	mov sbp,a
	call _Crom2Prom
	mov rb,a
	clr rc
	sz rb.7
	set rc
	mov a,rd
	xor a,rb
	mov a,re
	sz z
	xor a,rc
	snz z
	jmp _L42
#line 130 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	inc rf
	sdz ra
	jmp _L44
#line 137 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,_fat16_buffer[8]
	mov rf,a
	clr rg
	mov a,_FAT16_open_file_2[2]
	mov rb,a
	mov a,_FAT16_open_file_2[3]
	mov rc,a
	mov a,rb
	mov mp,a
	mov a,rc
	mov sbp,a
	call _Crom2Prom
	mov rd,a
	clr re
	sz rd.7
	set re
	mov a,rf
	xor a,rd
	mov a,rg
	sz z
	xor a,re
	snz z
	jmp _L42
	mov a,_fat16_buffer[9]
	mov rf,a
	clr rg
	mov a,1
	add a,rb
	mov mp,a
	mov a,0
	adc a,rc
	mov sbp,a
	call _Crom2Prom
	mov rd,a
	clr re
	sz rd.7
	set re
	mov a,rf
	xor a,rd
	mov a,rg
	sz z
	xor a,re
	sz z
	jmp _L58
_L42:
#line 159 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,_fat16_state[24]
	or a,_fat16_state[25]
	or a,_fat16_state[26]
	or a,_fat16_state[27]
	snz z
	jmp _L48
#line 161 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	set ra
	jmp _L55
_L52:
#line 128 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,254
	mov ra,a
	jmp _L55
_L58:
#line 137 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,_fat16_buffer[10]
	mov rd,a
	clr re
	mov a,2
	add a,rb
	mov mp,a
	mov a,0
	adc a,rc
	mov sbp,a
	call _Crom2Prom
	mov rb,a
	clr rc
	sz rb.7
	set rc
	mov a,rd
	xor a,rb
	mov a,re
	sz z
	xor a,rc
	snz z
	jmp _L42
#line 143 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,_fat16_buffer[26]
	mov rd,a
	mov a,_fat16_buffer[27]
	mov re,a
	mov a,rd
	mov _fat16_state[18],a
	mov a,re
	mov _fat16_state[19],a
#line 144 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,_fat16_state[17]
	mov ra,a
	mov a,ra
	add a,ra
	mov rc,a
	clr rb
	mov a,rb
	mov _fat16_state[20],a
	mov a,rc
	mov _fat16_state[21],a
	clr acc
	sz _fat16_state[21].7
	set acc
	mov _fat16_state[22],a
	mov _fat16_state[23],a
#line 146 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,_fat16_buffer[0]
	sub a,46
	sz z
	jmp _L50
	snz _fat16_buffer[11].4
	jmp _L46
_L50:
#line 150 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	set _fat16_state[24]
	set _fat16_state[25]
	set _fat16_state[26]
	set _fat16_state[27]
	jmp _L47
_L46:
#line 152 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,_fat16_buffer[28]
	mov _fat16_state[24],a
	mov a,_fat16_buffer[29]
	mov _fat16_state[25],a
	mov a,_fat16_buffer[30]
	mov _fat16_state[26],a
	mov a,_fat16_buffer[31]
	mov _fat16_state[27],a
_L47:
#line 157 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,126
	addm a,rd
	mov a,0
	adcm a,re
	mov a,ra
	mov _builtin_holtek_mulhi3_2[0],a
	clr _builtin_holtek_mulhi3_2[1]
	mov a,rd
	mov _builtin_holtek_mulhi3_2[2],a
	mov a,re
	mov _builtin_holtek_mulhi3_2[3],a
	call _builtin_holtek_mulhi3
	mov a,_builtin_holtek_mulhi3_2[4]  
	mov rd,a  
	mov a,_builtin_holtek_mulhi3_2[5]  
	mov re,a
	clr c
	rlca rd
	mov rg,a
	clr rf
#line 156 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,_fat16_state[13]
	mov ra,a
	mov a,_fat16_state[14]
	mov rb,a
	mov a,_fat16_state[15]
	mov rc,a
	mov a,_fat16_state[16]
	mov rd,a
	mov a,rf
	addm a,ra
	mov a,rg
	adcm a,rb
	clr acc
	adcm a,rc
	adcm a,rd
	mov a,ra
	mov _FAT16_seek_2[0],a
	mov a,rb
	mov _FAT16_seek_2[1],a
	mov a,rc
	mov _FAT16_seek_2[2],a
	mov a,rd
	mov _FAT16_seek_2[3],a
	call _FAT16_seek
#line 158 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	clr ra
_L55:
#line 162 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
	mov a,ra
	ret
_FAT16_open_file endp
#line 162 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
#pragma debug scope 1 1
@HCCINIT0	.section	'data'
_file_data_addr	db 4 dup(0)
#pragma debug variable 14 1 _file_data_addr "file_data_addr"

@HCCINIT .section 'data'
#line 25 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
public _fat16_state
@HCCINIT0 .section 'data'
_fat16_state	db 28 dup(0)
#pragma debug struct_begin 44 ""
#pragma debug field 0 8 "fat_num"
#pragma debug field 0 14 "fat1_start"
#pragma debug field 0 14 "fat2_start"
#pragma debug field 0 14 "root_start"
#pragma debug field 0 14 "data_start"
#pragma debug field 0 8 "sectors_per_cluster"
#pragma debug field 0 12 "cluster"
#pragma debug field 0 14 "cluster_left"
#pragma debug field 0 14 "file_left"
#pragma debug struct_end
#pragma debug variable 44 1 _fat16_state "fat16_state"

@HCCINIT .section 'data'
#line 24 "E:\1_TOSHIBA\Projects\voltage_stabilizer\DataLoggerJig\proj\test_sd_READ\fat16.c"
public _fat16_buffer
@HCCINIT0 .section 'data'
_fat16_buffer	db 32 dup(0)
#pragma debug array 45 8 32 1
#pragma debug variable 45 1 _fat16_buffer "fat16_buffer"

@HCCINIT .section 'data'

; output external variables
extern _c:byte
extern _SD_seek_2:byte
extern _SD_seek:near
extern _SD_get_2:byte
extern _SD_get:near
extern _itoa_2:byte
extern _itoa:near
extern _builtin_holtek_mulhi3_2:byte
extern _builtin_holtek_mulhi3:near

; 
; Generated by holtek-gcc v3.14, Tue Jun 05 09:53:31 2018
; Rebuild 10
; end of file
